<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="4" failures="354" skipped="0" tests="730" time="561.088" timestamp="2025-12-08T11:06:20.486668+00:00" hostname="haroon-HP-EliteBook-840-g6"><testcase classname="tests.integration.test_api" name="test_health_endpoint" time="378.323" /><testcase classname="tests.integration.test_api" name="test_graphql_endpoint_exists" time="0.052" /><testcase classname="tests.integration.test_api" name="test_graphql_shop_query" time="0.024"><failure message="assert 400 == 200&#10; +  where 400 = &lt;JsonResponse status_code=400, &quot;application/json&quot;&gt;.status_code">tests/integration/test_api.py:54: in test_graphql_shop_query
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = &lt;JsonResponse status_code=400, "application/json"&gt;.status_code</failure></testcase><testcase classname="tests.integration.test_api" name="test_dashboard_endpoint" time="0.009" /><testcase classname="tests.unit.test_models" name="test_create_user" time="2.038" /><testcase classname="tests.unit.test_models" name="test_create_superuser" time="1.888" /><testcase classname="tests.unit.test_models" name="test_create_category" time="0.012" /><testcase classname="tests.unit.test_models" name="test_create_product_type" time="0.009" /><testcase classname="tests.unit.test_models" name="test_create_product" time="0.015" /><testcase classname="tests.unit.test_models" name="test_site_settings" time="0.013" /><testcase classname="tests.whitebox.test_account_notifications.TestGetDefaultUserPayload" name="test_get_default_user_payload_returns_correct_data" time="0.018" /><testcase classname="tests.whitebox.test_account_notifications.TestGetDefaultUserPayload" name="test_get_default_user_payload_overrides_private_metadata" time="0.011" /><testcase classname="tests.whitebox.test_account_notifications.TestGetUserCustomPayload" name="test_get_user_custom_payload_includes_site_context" time="0.012" /><testcase classname="tests.whitebox.test_account_notifications.TestSendPasswordResetNotification" name="test_send_password_reset_notification_for_customer" time="0.006"><error message="failed on setup with &quot;file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 95&#10;      @patch('saleor.account.notifications.token_generator.make_token')&#10;      @patch('saleor.account.notifications.urlencode')&#10;      @patch('saleor.account.notifications.prepare_url')&#10;      @patch('saleor.account.notifications.get_site_context')&#10;      def test_send_password_reset_notification_for_customer(&#10;E       fixture 'mock_manager' not found&#10;&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id&#10;&gt;       use 'pytest --fixtures [testpath]' for help on them.&#10;&#10;/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:95&quot;">file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 95
      @patch('saleor.account.notifications.token_generator.make_token')
      @patch('saleor.account.notifications.urlencode')
      @patch('saleor.account.notifications.prepare_url')
      @patch('saleor.account.notifications.get_site_context')
      def test_send_password_reset_notification_for_customer(
E       fixture 'mock_manager' not found
&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id
&gt;       use 'pytest --fixtures [testpath]' for help on them.

/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:95</error></testcase><testcase classname="tests.whitebox.test_account_notifications.TestSendPasswordResetNotification" name="test_send_password_reset_notification_for_staff" time="0.005"><error message="failed on setup with &quot;file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 128&#10;      @patch('saleor.account.notifications.token_generator.make_token')&#10;      @patch('saleor.account.notifications.urlencode')&#10;      @patch('saleor.account.notifications.prepare_url')&#10;      @patch('saleor.account.notifications.get_site_context')&#10;      def test_send_password_reset_notification_for_staff(&#10;E       fixture 'mock_manager' not found&#10;&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id&#10;&gt;       use 'pytest --fixtures [testpath]' for help on them.&#10;&#10;/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:128&quot;">file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 128
      @patch('saleor.account.notifications.token_generator.make_token')
      @patch('saleor.account.notifications.urlencode')
      @patch('saleor.account.notifications.prepare_url')
      @patch('saleor.account.notifications.get_site_context')
      def test_send_password_reset_notification_for_staff(
E       fixture 'mock_manager' not found
&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id
&gt;       use 'pytest --fixtures [testpath]' for help on them.

/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:128</error></testcase><testcase classname="tests.whitebox.test_account_notifications.TestSendAccountConfirmation" name="test_send_account_confirmation_without_token" time="0.006"><error message="failed on setup with &quot;file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 167&#10;      @patch('saleor.account.notifications.token_generator.make_token')&#10;      @patch('saleor.account.notifications.urlencode')&#10;      @patch('saleor.account.notifications.prepare_url')&#10;      @patch('saleor.account.notifications.get_site_context')&#10;      def test_send_account_confirmation_without_token(&#10;E       fixture 'mock_manager' not found&#10;&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id&#10;&gt;       use 'pytest --fixtures [testpath]' for help on them.&#10;&#10;/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:167&quot;">file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 167
      @patch('saleor.account.notifications.token_generator.make_token')
      @patch('saleor.account.notifications.urlencode')
      @patch('saleor.account.notifications.prepare_url')
      @patch('saleor.account.notifications.get_site_context')
      def test_send_account_confirmation_without_token(
E       fixture 'mock_manager' not found
&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id
&gt;       use 'pytest --fixtures [testpath]' for help on them.

/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:167</error></testcase><testcase classname="tests.whitebox.test_account_notifications.TestSendAccountConfirmation" name="test_send_account_confirmation_with_token" time="0.006"><error message="failed on setup with &quot;file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 199&#10;      @patch('saleor.account.notifications.urlencode')&#10;      @patch('saleor.account.notifications.prepare_url')&#10;      @patch('saleor.account.notifications.get_site_context')&#10;      def test_send_account_confirmation_with_token(&#10;E       fixture 'mock_manager' not found&#10;&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id&#10;&gt;       use 'pytest --fixtures [testpath]' for help on them.&#10;&#10;/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:199&quot;">file /home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py, line 199
      @patch('saleor.account.notifications.urlencode')
      @patch('saleor.account.notifications.prepare_url')
      @patch('saleor.account.notifications.get_site_context')
      def test_send_account_confirmation_with_token(
E       fixture 'mock_manager' not found
&gt;       available fixtures: _dj_autoclear_mailbox, _django_clear_site_cache, _django_db_helper, _django_db_marker, _django_set_urlconf, _django_setup_unittest, _fail_for_invalid_template_variable, _live_server_helper, _session_faker, _template_string_if_invalid_marker, admin_client, admin_user, anyio_backend, anyio_backend_name, anyio_backend_options, async_client, async_rf, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, client, cov, db, django_assert_max_num_queries, django_assert_num_queries, django_capture_on_commit_callbacks, django_db_blocker, django_db_createdb, django_db_keepdb, django_db_modify_db_settings, django_db_modify_db_settings_parallel_suffix, django_db_modify_db_settings_tox_suffix, django_db_modify_db_settings_xdist_suffix, django_db_reset_sequences, django_db_serialized_rollback, django_db_setup, django_db_use_migrations, django_mail_dnsname, django_mail_patch_dns, django_test_environment, django_user_model, django_username_field, doctest_namespace, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, live_server, mailoutbox, monkeypatch, no_cover, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, rf, settings, subtests, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, transactional_db, worker_id
&gt;       use 'pytest --fixtures [testpath]' for help on them.

/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_account_notifications.py:199</error></testcase><testcase classname="tests.whitebox.test_account_utils.TestIsUserAddressLimitReached" name="test_address_limit_not_reached" time="1.013"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:37: in test_address_limit_not_reached
    Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestIsUserAddressLimitReached" name="test_address_limit_reached" time="0.949"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:59: in test_address_limit_reached
    Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestStoreUserAddress" name="test_store_address_limit_reached" time="0.967"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:89: in test_store_address_limit_reached
    Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestStoreUserAddress" name="test_store_address_existing_address" time="1.054"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:119: in test_store_address_existing_address
    address = Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestStoreUserAddress" name="test_store_address_new_address_billing" time="1.143" /><testcase classname="tests.whitebox.test_account_utils.TestStoreUserAddress" name="test_store_address_new_address_shipping" time="1.057" /><testcase classname="tests.whitebox.test_account_utils.TestStoreUserAddress" name="test_store_address_billing_with_existing_default" time="1.003"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:186: in test_store_address_billing_with_existing_default
    existing = Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestRemoveOldestAddressIfLimitReached" name="test_remove_if_limit_reached" time="1.055"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:232: in test_remove_if_limit_reached
    addr = Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestRemoveOldestAddressIfLimitReached" name="test_remove_if_limit_not_reached" time="0.997"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:257: in test_remove_if_limit_not_reached
    Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestRemoveOldestUserAddress" name="test_remove_oldest_not_default" time="1.055"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:287: in test_remove_oldest_not_default
    oldest = Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_account_utils.TestRemoveOldestUserAddress" name="test_remove_oldest_is_default" time="1.049"><failure message="TypeError: Address() got unexpected keyword arguments: 'user'">tests/whitebox/test_account_utils.py:321: in test_remove_oldest_is_default
    oldest = Address.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Address() got unexpected keyword arguments: 'user'</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvent" name="test_call_checkout_event_raises_for_invalid_event" time="0.011" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvent" name="test_call_checkout_event_without_sync_webhooks" time="0.009" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvent" name="test_call_checkout_event_with_sync_webhooks" time="0.020" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvents" name="test_call_checkout_events_raises_for_invalid_events" time="0.011" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvents" name="test_call_checkout_events_with_sync_webhooks" time="0.015" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutEvents" name="test_call_checkout_events_without_sync_webhooks" time="0.008" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutInfoEvent" name="test_call_checkout_info_event_raises_for_invalid_event" time="0.008"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:156: in test_call_checkout_info_event_raises_for_invalid_event
    ???
saleor/checkout/actions.py:161: in call_checkout_info_event
    webhook_event_map = get_webhooks_for_multiple_events(
saleor/webhook/utils.py:97: in get_webhooks_for_multiple_events
    for webhook_id, event_type in webhook_id_to_event_type:
.venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:234: in __iter__
    return compiler.results_iter(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1572: in results_iter
    results = self.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutInfoEvent" name="test_call_checkout_info_event_without_sync_webhooks" time="0.008" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutInfoEvent" name="test_call_checkout_info_event_with_sync_webhooks" time="0.008" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestCallCheckoutInfoEvent" name="test_call_checkout_info_event_with_provided_webhook_map" time="0.008" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTriggerCheckoutSyncWebhooks" name="test_trigger_checkout_sync_webhooks_with_expired_prices" time="0.007"><failure message="AssertionError: Expected 'fetch_checkout_data' to be called once. Called 0 times.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:236: in test_trigger_checkout_sync_webhooks_with_expired_prices
    ???
/usr/lib/python3.12/unittest/mock.py:955: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'fetch_checkout_data' to be called once. Called 0 times.</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTriggerCheckoutSyncWebhooks" name="test_trigger_checkout_sync_webhooks_with_valid_prices" time="0.007" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTriggerCheckoutSyncWebhooks" name="test_trigger_checkout_sync_webhooks_without_tax_webhook" time="0.007" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestUpdateLastTransactionModifiedAt" name="test_update_last_transaction_modified_at_when_none" time="0.019" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestUpdateLastTransactionModifiedAt" name="test_update_last_transaction_modified_at_when_older" time="0.018"><failure message="assert datetime.datetime(2025, 12, 8, 11, 13, 3, 463829, tzinfo=datetime.timezone.utc) == datetime.datetime(2025, 12, 8, 11, 13, 3, 463129, tzinfo=datetime.timezone.utc)&#10; +  where datetime.datetime(2025, 12, 8, 11, 13, 3, 463829, tzinfo=datetime.timezone.utc) = &lt;Checkout: Checkout object (0679d1c8-edf2-4c00-a0f9-8bc9c135b85d)&gt;.last_transaction_modified_at">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:325: in test_update_last_transaction_modified_at_when_older
    ???
E   assert datetime.datetime(2025, 12, 8, 11, 13, 3, 463829, tzinfo=datetime.timezone.utc) == datetime.datetime(2025, 12, 8, 11, 13, 3, 463129, tzinfo=datetime.timezone.utc)
E    +  where datetime.datetime(2025, 12, 8, 11, 13, 3, 463829, tzinfo=datetime.timezone.utc) = &lt;Checkout: Checkout object (0679d1c8-edf2-4c00-a0f9-8bc9c135b85d)&gt;.last_transaction_modified_at</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestUpdateLastTransactionModifiedAt" name="test_update_last_transaction_modified_at_when_newer_exists" time="0.018"><failure message="assert datetime.datetime(2025, 12, 8, 11, 13, 3, 485437, tzinfo=datetime.timezone.utc) == datetime.datetime(2025, 12, 8, 11, 13, 3, 482375, tzinfo=datetime.timezone.utc)&#10; +  where datetime.datetime(2025, 12, 8, 11, 13, 3, 485437, tzinfo=datetime.timezone.utc) = &lt;Checkout: Checkout object (56467b90-ca94-42f7-bdb2-abd67fdf740e)&gt;.last_transaction_modified_at">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:349: in test_update_last_transaction_modified_at_when_newer_exists
    ???
E   assert datetime.datetime(2025, 12, 8, 11, 13, 3, 485437, tzinfo=datetime.timezone.utc) == datetime.datetime(2025, 12, 8, 11, 13, 3, 482375, tzinfo=datetime.timezone.utc)
E    +  where datetime.datetime(2025, 12, 8, 11, 13, 3, 485437, tzinfo=datetime.timezone.utc) = &lt;Checkout: Checkout object (56467b90-ca94-42f7-bdb2-abd67fdf740e)&gt;.last_transaction_modified_at</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdated" name="test_transaction_amounts_for_checkout_updated_without_checkout" time="0.008" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdated" name="test_transaction_amounts_for_checkout_updated_with_checkout" time="0.015" /><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdatedWithoutPriceRecalculation" name="test_transaction_amounts_without_recalculation_updates_status" time="0.013"><failure message="TypeError: conversion from Mock to Decimal is not supported">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:418: in test_transaction_amounts_without_recalculation_updates_status
    ???
saleor/core/db/fields.py:168: in __get__
    return TaxedMoney(Money(net_amount, currency), Money(gross_amount, currency))
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/prices/money.py:23: in __init__
    self.amount = Decimal(amount)
                  ^^^^^^^^^^^^^^^
E   TypeError: conversion from Mock to Decimal is not supported</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdatedInternal" name="test_transaction_amounts_internal_triggers_fully_paid_event" time="0.015"><failure message="AssertionError: expected call not found.&#10;Expected: call_checkout_info_event(&lt;Mock id='127929262911808'&gt;, 'checkout_fully_paid', &lt;Mock id='127929262900960'&gt;, [])&#10;  Actual: call_checkout_info_event(&lt;Mock id='127929262911808'&gt;, event_name='checkout_fully_paid', checkout_info=&lt;Mock id='127929262900960'&gt;, lines=[])">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:477: in test_transaction_amounts_internal_triggers_fully_paid_event
    ???
/usr/lib/python3.12/unittest/mock.py:956: in assert_called_once_with
    return self.assert_called_with(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:944: in assert_called_with
    raise AssertionError(_error_message()) from cause
E   AssertionError: expected call not found.
E   Expected: call_checkout_info_event(&lt;Mock id='127929262911808'&gt;, 'checkout_fully_paid', &lt;Mock id='127929262900960'&gt;, [])
E     Actual: call_checkout_info_event(&lt;Mock id='127929262911808'&gt;, event_name='checkout_fully_paid', checkout_info=&lt;Mock id='127929262900960'&gt;, lines=[])</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdatedInternal" name="test_transaction_amounts_internal_triggers_fully_authorized_event" time="0.016"><failure message="AssertionError: expected call not found.&#10;Expected: call_checkout_info_event(&lt;Mock id='127929262914400'&gt;, 'checkout_fully_authorized', &lt;Mock id='127929250935344'&gt;, [])&#10;  Actual: call_checkout_info_event(&lt;Mock id='127929262914400'&gt;, event_name='checkout_fully_authorized', checkout_info=&lt;Mock id='127929250935344'&gt;, lines=[])">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_actions_extensive.py:520: in test_transaction_amounts_internal_triggers_fully_authorized_event
    ???
/usr/lib/python3.12/unittest/mock.py:956: in assert_called_once_with
    return self.assert_called_with(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:944: in assert_called_with
    raise AssertionError(_error_message()) from cause
E   AssertionError: expected call not found.
E   Expected: call_checkout_info_event(&lt;Mock id='127929262914400'&gt;, 'checkout_fully_authorized', &lt;Mock id='127929250935344'&gt;, [])
E     Actual: call_checkout_info_event(&lt;Mock id='127929262914400'&gt;, event_name='checkout_fully_authorized', checkout_info=&lt;Mock id='127929250935344'&gt;, lines=[])</failure></testcase><testcase classname="tests.whitebox.test_checkout_actions_extensive.TestTransactionAmountsForCheckoutUpdatedInternal" name="test_transaction_amounts_internal_updates_refundable" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_single_line" time="0.025"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'promotion_discount'">tests/whitebox/test_checkout_base_calculations.py:65: in test_base_checkout_subtotal_single_line
    line_info = CheckoutLineInfo(
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'promotion_discount'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_empty_lines" time="0.008" /><testcase classname="tests.whitebox.test_checkout_base_calculations.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_include_voucher_false" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'promotion_discount'">tests/whitebox/test_checkout_base_calculations.py:148: in test_base_checkout_subtotal_include_voucher_false
    line_info = CheckoutLineInfo(
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'promotion_discount'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations.TestCheckoutTotal" name="test_checkout_total_no_discounts" time="0.012" /><testcase classname="tests.whitebox.test_checkout_base_calculations.TestCheckoutTotal" name="test_checkout_total_with_discount" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBaseLineUnitPrice" name="test_calculate_base_line_unit_price_divides_total_by_quantity" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:76: in test_calculate_base_line_unit_price_divides_total_by_quantity
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_no_discounts_no_voucher" time="0.026" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_with_discounts" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:174: in test_calculate_base_line_total_price_with_discounts
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_with_voucher_include_true" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:215: in test_calculate_base_line_total_price_with_voucher_include_true
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_with_voucher_include_false" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:259: in test_calculate_base_line_total_price_with_voucher_include_false
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateUndiscountedBaseLineTotalPrice" name="test_calculate_undiscounted_base_line_total_price" time="0.022"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:306: in test_calculate_undiscounted_base_line_total_price
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateUndiscountedBaseLineUnitPrice" name="test_calculate_undiscounted_base_line_unit_price" time="0.021"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:353: in test_calculate_undiscounted_base_line_unit_price
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_no_shipping_voucher" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_shipping_voucher_include_true" time="0.014" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_shipping_voucher_include_false" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_shipping_voucher_discount_exceeds_price" time="0.014" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutUndiscountedDeliveryPrice" name="test_base_checkout_undiscounted_delivery_price_not_shipping_method_info" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutUndiscountedDeliveryPrice" name="test_base_checkout_undiscounted_delivery_price_shipping_method_info" time="0.013" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_no_shipping_method" time="0.016" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_shipping_not_required" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;shipping_zone_id&quot; of relation &quot;shipping_shippingmethod&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2, Standard, null, 0, , null, {}, {}, null, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (2, Standard, null, 0, , null, {}, {}, null, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:556: in test_calculate_base_price_shipping_not_required
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (2, Standard, null, 0, , null, {}, {}, null, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_shipping_required_with_method" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;shipping_zone_id&quot; of relation &quot;shipping_shippingmethod&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (3, Standard, null, 0, , null, {}, {}, null, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (3, Standard, null, 0, , null, {}, {}, null, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:581: in test_calculate_base_price_shipping_required_with_method
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (3, Standard, null, 0, , null, {}, {}, null, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_uses_lines_for_shipping_required" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;shipping_zone_id&quot; of relation &quot;shipping_shippingmethod&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (4, Standard, null, 0, , null, {}, {}, null, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (4, Standard, null, 0, , null, {}, {}, null, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:607: in test_calculate_base_price_uses_lines_for_shipping_required
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (4, Standard, null, 0, , null, {}, {}, null, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutTotal" name="test_base_checkout_total_sums_subtotal_and_shipping" time="0.015" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_empty_lines" time="0.008" /><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_multiple_lines" time="0.023"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:704: in test_base_checkout_subtotal_multiple_lines
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestCheckoutTotal" name="test_checkout_total_calculates_with_gift_cards" time="0.013"><failure message="AttributeError: &lt;module 'saleor.checkout.base_calculations' from '/home/haroon/SQE/SQE_Project_Saleor/saleor/checkout/base_calculations.py'&gt; does not have the attribute 'calculate_checkout_total_with_gift_cards'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:759: in test_checkout_total_calculates_with_gift_cards
    ???
/usr/lib/python3.12/unittest/mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'saleor.checkout.base_calculations' from '/home/haroon/SQE/SQE_Project_Saleor/saleor/checkout/base_calculations.py'&gt; does not have the attribute 'calculate_checkout_total_with_gift_cards'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestGetLineTotalPriceWithPropagatedCheckoutDiscount" name="test_get_line_total_price_finds_line" time="0.024"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:798: in test_get_line_total_price_finds_line
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestGetLineTotalPriceWithPropagatedCheckoutDiscount" name="test_get_line_total_price_line_not_found" time="0.029"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:852: in test_get_line_total_price_line_not_found
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestPropagateCheckoutDiscountOnCheckoutLinesPrices" name="test_propagate_checkout_discount_single_line" time="0.029"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:917: in test_propagate_checkout_discount_single_line
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_comprehensive.TestPropagateCheckoutDiscountOnCheckoutLinesPrices" name="test_propagate_checkout_discount_multiple_lines" time="0.024"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_comprehensive.py:971: in test_propagate_checkout_discount_multiple_lines
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCalculateBaseLineUnitPrice" name="test_calculate_base_line_unit_price_returns_channel_listing_price" time="0.019"><failure message="TypeError: calculate_base_line_unit_price() takes 1 positional argument but 3 were given">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:67: in test_calculate_base_line_unit_price_returns_channel_listing_price
    ???
E   TypeError: calculate_base_line_unit_price() takes 1 positional argument but 3 were given</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCalculateBaseLineUnitPrice" name="test_calculate_base_line_unit_price_handles_custom_price" time="0.018"><failure message="TypeError: CheckoutLine() got unexpected keyword arguments: 'price_override_amount'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:91: in test_calculate_base_line_unit_price_handles_custom_price
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: CheckoutLine() got unexpected keyword arguments: 'price_override_amount'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_multiplies_by_quantity" time="0.029"><failure message="TypeError: calculate_base_line_total_price() takes from 1 to 2 positional arguments but 3 were given">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:144: in test_calculate_base_line_total_price_multiplies_by_quantity
    ???
E   TypeError: calculate_base_line_total_price() takes from 1 to 2 positional arguments but 3 were given</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_returns_zero_when_no_shipping_method" time="0.017" /><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_returns_shipping_method_price" time="0.026"><failure message="AssertionError: assert Money('0.00', 'USD') == Money('10.00', 'USD')&#10; +  where Money('10.00', 'USD') = Money(Decimal('10.00'), 'USD')&#10; +    where Decimal('10.00') = Decimal('10.00')">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:209: in test_base_checkout_delivery_price_returns_shipping_method_price
    ???
E   AssertionError: assert Money('0.00', 'USD') == Money('10.00', 'USD')
E    +  where Money('10.00', 'USD') = Money(Decimal('10.00'), 'USD')
E    +    where Decimal('10.00') = Decimal('10.00')</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestBaseCheckoutSubtotal" name="test_base_checkout_subtotal_sums_line_totals" time="0.028" /><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestBaseCheckoutTotal" name="test_base_checkout_total_adds_subtotal_and_shipping" time="0.016"><failure message="TypeError: base_checkout_total() got an unexpected keyword argument 'include_voucher'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:286: in test_base_checkout_total_adds_subtotal_and_shipping
    ???
E   TypeError: base_checkout_total() got an unexpected keyword argument 'include_voucher'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCheckoutTotal" name="test_checkout_total_includes_discounts" time="0.015"><failure message="TypeError: checkout_total() got an unexpected keyword argument 'include_voucher'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:311: in test_checkout_total_includes_discounts
    ???
E   TypeError: checkout_total() got an unexpected keyword argument 'include_voucher'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestGetLineTotalPriceWithPropagatedCheckoutDiscount" name="test_get_line_total_price_with_propagated_discount_applies_discount" time="0.026"><failure message="TypeError: get_line_total_price_with_propagated_checkout_discount() takes 3 positional arguments but 6 were given">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:356: in test_get_line_total_price_with_propagated_discount_applies_discount
    ???
E   TypeError: get_line_total_price_with_propagated_checkout_discount() takes 3 positional arguments but 6 were given</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestGetLineTotalPriceWithPropagatedCheckoutDiscount" name="test_get_line_total_price_with_propagated_discount_handles_zero_subtotal" time="0.024"><failure message="TypeError: get_line_total_price_with_propagated_checkout_discount() takes 3 positional arguments but 6 were given">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:403: in test_get_line_total_price_with_propagated_discount_handles_zero_subtotal
    ???
E   TypeError: get_line_total_price_with_propagated_checkout_discount() takes 3 positional arguments but 6 were given</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_returns_shipping_method_price" time="0.020"><failure message="AttributeError: 'Channel' object has no attribute 'delivery_method'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:446: in test_calculate_base_price_returns_shipping_method_price
    ???
saleor/checkout/base_calculations.py:140: in calculate_base_price_for_shipping_method
    shipping_method = shipping_method_info.delivery_method
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Channel' object has no attribute 'delivery_method'</failure></testcase><testcase classname="tests.whitebox.test_checkout_base_calculations_extensive.TestCalculateBasePriceForShippingMethod" name="test_calculate_base_price_returns_zero_when_no_method" time="0.011"><failure message="AttributeError: 'Channel' object has no attribute 'delivery_method'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_base_calculations_extensive.py:462: in test_calculate_base_price_returns_zero_when_no_method
    ???
saleor/checkout/base_calculations.py:140: in calculate_base_price_for_shipping_method
    shipping_method = shipping_method_info.delivery_method
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Channel' object has no attribute 'delivery_method'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateBaseLineUnitPrice" name="test_calculate_base_line_unit_price_basic" time="0.028"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:78: in test_calculate_base_line_unit_price_basic
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateBaseLineUnitPrice" name="test_calculate_base_line_unit_price_with_discounts" time="0.030"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:140: in test_calculate_base_line_unit_price_with_discounts
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_no_discounts" time="0.029"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:207: in test_calculate_base_line_total_price_no_discounts
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_with_discounts" time="0.030"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:268: in test_calculate_base_line_total_price_with_discounts
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateBaseLineTotalPrice" name="test_calculate_base_line_total_price_include_voucher_false" time="0.047"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:327: in test_calculate_base_line_total_price_include_voucher_false
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestCalculateUndiscountedBaseLineTotalPrice" name="test_calculate_undiscounted_base_line_total_price" time="0.024"><failure message="TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:399: in test_calculate_undiscounted_base_line_total_price
    ???
E   TypeError: CheckoutLineInfo.__init__() got an unexpected keyword argument 'undiscounted_unit_price'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_comprehensive.TestBaseCheckoutDeliveryPrice" name="test_base_checkout_delivery_price_no_voucher" time="0.016"><failure message="AssertionError: assert Decimal('0.00') == Decimal('10.00')&#10; +  where Decimal('0.00') = Money('0.00', 'USD').amount&#10; +  and   Decimal('10.00') = Decimal('10.00')">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_comprehensive.py:464: in test_base_checkout_delivery_price_no_voucher
    ???
E   AssertionError: assert Decimal('0.00') == Decimal('10.00')
E    +  where Decimal('0.00') = Money('0.00', 'USD').amount
E    +  and   Decimal('10.00') = Decimal('10.00')</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutShippingPrice" name="test_checkout_shipping_price_with_valid_checkout" time="0.012" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutShippingPrice" name="test_checkout_shipping_price_with_pregenerated_payloads" time="0.011" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutShippingTaxRate" name="test_checkout_shipping_tax_rate_returns_tax_rate" time="0.011" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutSubtotal" name="test_checkout_subtotal_returns_subtotal" time="0.012" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCalculateCheckoutTotal" name="test_calculate_checkout_total_returns_total" time="0.011" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCalculateCheckoutTotal" name="test_calculate_checkout_total_with_force_update" time="0.010" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCalculateCheckoutTotalWithGiftCards" name="test_calculate_checkout_total_with_gift_cards_zero_total" time="0.010" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCalculateCheckoutTotalWithGiftCards" name="test_calculate_checkout_total_with_gift_cards_subtracts_balance" time="0.010" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCalculateCheckoutTotalWithGiftCards" name="test_calculate_checkout_total_with_gift_cards_prevents_negative" time="0.010" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineTotal" name="test_checkout_line_total_returns_line_total" time="0.018" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineUnitPrice" name="test_checkout_line_unit_price_calculates_from_total" time="0.018" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineTaxRate" name="test_checkout_line_tax_rate_returns_tax_rate" time="0.018" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineUndiscountedPrices" name="test_checkout_line_undiscounted_unit_price_from_expired_prices" time="0.020" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineUndiscountedPrices" name="test_checkout_line_undiscounted_unit_price_from_valid_prices" time="0.021"><failure message="AttributeError: 'TaxedMoney' object has no attribute 'amount'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_extensive.py:554: in test_checkout_line_undiscounted_unit_price_from_valid_prices
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:566: in __init__
    _setattr(self, prop, value)
saleor/core/db/fields.py:121: in __set__
    amount = value.amount
             ^^^^^^^^^^^^
E   AttributeError: 'TaxedMoney' object has no attribute 'amount'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestCheckoutLineUndiscountedPrices" name="test_checkout_line_undiscounted_total_price_calculates_total" time="0.021" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestUpdateUndiscountedPriceForLines" name="test_update_undiscounted_unit_price_for_lines_updates_all_lines" time="0.021"><failure message="AttributeError: 'TaxedMoney' object has no attribute 'amount'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_calculations_extensive.py:651: in test_update_undiscounted_unit_price_for_lines_updates_all_lines
    ???
saleor/checkout/calculations.py:326: in update_undiscounted_unit_price_for_lines
    line_info.line.undiscounted_unit_price = line_info.undiscounted_unit_price
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/core/db/fields.py:121: in __set__
    amount = value.amount
             ^^^^^^^^^^^^
E   AttributeError: 'TaxedMoney' object has no attribute 'amount'</failure></testcase><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestUpdateUndiscountedPriceForLines" name="test_update_undiscounted_unit_price_for_lines_skips_missing_listing" time="0.021" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestUpdatePriorPriceForLines" name="test_update_prior_unit_price_for_lines_with_prior_price" time="0.020" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestUpdatePriorPriceForLines" name="test_update_prior_unit_price_for_lines_without_prior_price" time="0.022" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestUpdatePriorPriceForLines" name="test_update_prior_unit_price_for_lines_skips_missing_listing" time="0.020" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestFetchCheckoutData" name="test_fetch_checkout_data_with_force_update" time="0.012" /><testcase classname="tests.whitebox.test_checkout_calculations_extensive.TestFetchCheckoutData" name="test_fetch_checkout_data_with_database_connection" time="0.012" /><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestProcessVoucherDataForOrder" name="test_process_voucher_data_with_valid_voucher" time="0.011"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:70: in test_process_voucher_data_with_valid_voucher
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestProcessVoucherDataForOrder" name="test_process_voucher_data_without_voucher" time="0.012" /><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestAssignCheckoutUser" name="test_assign_checkout_user_with_existing_user" time="1.004"><failure message="AssertionError: assert None == &lt;User: c233e620-cbaf-46cc-88f7-5ba1ac475e8b&gt;&#10; +  where None = &lt;Checkout: Checkout object (463bae9b-6fce-48e3-907a-ae90e784a98c)&gt;.user&#10; +    where &lt;Checkout: Checkout object (463bae9b-6fce-48e3-907a-ae90e784a98c)&gt; = &lt;Mock spec='CheckoutInfo' id='127929249715776'&gt;.checkout">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:151: in test_assign_checkout_user_with_existing_user
    ???
E   AssertionError: assert None == &lt;User: c233e620-cbaf-46cc-88f7-5ba1ac475e8b&gt;
E    +  where None = &lt;Checkout: Checkout object (463bae9b-6fce-48e3-907a-ae90e784a98c)&gt;.user
E    +    where &lt;Checkout: Checkout object (463bae9b-6fce-48e3-907a-ae90e784a98c)&gt; = &lt;Mock spec='CheckoutInfo' id='127929249715776'&gt;.checkout</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestAssignCheckoutUser" name="test_assign_checkout_user_with_no_user" time="0.014"><failure message="AttributeError: Mock object has no attribute 'user'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:169: in test_assign_checkout_user_with_no_user
    ???
saleor/checkout/complete_checkout.py:1671: in assign_checkout_user
    if user is None and not checkout_info.user and checkout_info.checkout.email:
                            ^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:658: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'user'</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestCreateOrderFromCheckout" name="test_create_order_from_checkout_basic" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (c6511edb-2ca4-4dae-983e-97522548bf52, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c6511edb-2ca4-4dae-983e-97522548bf52, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:186: in test_create_order_from_checkout_basic
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c6511edb-2ca4-4dae-983e-97522548bf52, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestCompleteCheckout" name="test_complete_checkout_zero_amount" time="0.019"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:10.905027+00, , , 53b90106-9860-486f-b957-0969c89dde84, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 88, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:10.906642+00, f, 1, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:10.905027+00, , , 53b90106-9860-486f-b957-0969c89dde84, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 88, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:10.906642+00, f, 1, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:272: in test_complete_checkout_zero_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:10.905027+00, , , 53b90106-9860-486f-b957-0969c89dde84, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 88, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:10.906642+00, f, 1, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestCompleteCheckoutWithPayment" name="test_complete_checkout_with_payment_checkout_not_found" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:11.628987+00, , , e2fac8bf-6cf0-47a5-9a9c-53f806ca5aea, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 89, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:11.629996+00, f, 2, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:11.628987+00, , , e2fac8bf-6cf0-47a5-9a9c-53f806ca5aea, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 89, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:11.629996+00, f, 2, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:309: in test_complete_checkout_with_payment_checkout_not_found
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:11.628987+00, , , e2fac8bf-6cf0-47a5-9a9c-53f806ca5aea, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 89, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:11.629996+00, f, 2, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestProcessShippingDataForOrder" name="test_process_shipping_data_with_shipping_method" time="0.012"><failure message="TypeError: _process_shipping_data_for_order() missing 4 required positional arguments: 'base_shipping_price', 'shipping_price', 'manager', and 'lines'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:360: in test_process_shipping_data_with_shipping_method
    ???
E   TypeError: _process_shipping_data_for_order() missing 4 required positional arguments: 'base_shipping_price', 'shipping_price', 'manager', and 'lines'</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestProcessUserDataForOrder" name="test_process_user_data_with_user" time="0.955"><failure message="AttributeError: Mock object has no attribute 'billing_address'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:394: in test_process_user_data_with_user
    ???
saleor/checkout/complete_checkout.py:274: in _process_user_data_for_order
    billing_address = checkout_info.billing_address
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:658: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'billing_address'</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestCreateOrderDiscount" name="test_create_order_discount_with_voucher" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:13.541227+00, , , 1830ca55-6938-4e41-a661-9b1be3684cf4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 92, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:13.54224+00, f, 3, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:13.541227+00, , , 1830ca55-6938-4e41-a661-9b1be3684cf4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 92, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:13.54224+00, f, 3, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:411: in test_create_order_discount_with_voucher
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:13.541227+00, , , 1830ca55-6938-4e41-a661-9b1be3684cf4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 92, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:13.54224+00, f, 3, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestPostCreateOrderActions" name="test_post_create_order_actions" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:14.247563+00, , , a19bbe71-0523-45cf-a063-fba5a498308f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 93, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:14.248639+00, f, 4, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:14.247563+00, , , a19bbe71-0523-45cf-a063-fba5a498308f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 93, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:14.248639+00, f, 4, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:444: in test_post_create_order_actions
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:14.247563+00, , , a19bbe71-0523-45cf-a063-fba5a498308f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 93, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:14.248639+00, f, 4, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestIncreaseCheckoutVoucherUsage" name="test_increase_voucher_usage_already_increased" time="0.012"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:481: in test_increase_voucher_usage_already_increased
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestIncreaseCheckoutVoucherUsage" name="test_increase_voucher_usage_first_time" time="0.010"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:515: in test_increase_voucher_usage_first_time
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestReleaseCheckoutVoucherUsage" name="test_release_voucher_usage" time="0.010"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:555: in test_release_voucher_usage
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestCreateLinesForOrder" name="test_create_lines_for_order_basic" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:15.545396+00, , , e5a0d9f0-8ee5-492e-9eaa-3e00e7d860f8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 97, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:15.546378+00, f, 5, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:15.545396+00, , , e5a0d9f0-8ee5-492e-9eaa-3e00e7d860f8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 97, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:15.546378+00, f, 5, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:589: in test_create_lines_for_order_basic
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:15.545396+00, , , e5a0d9f0-8ee5-492e-9eaa-3e00e7d860f8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 97, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:15.546378+00, f, 5, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_checkout_complete_checkout_comprehensive.TestPrepareOrderData" name="test_prepare_and_get_order_data" time="0.019"><failure message="TypeError: _prepare_order_data() got an unexpected keyword argument 'checkout'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_complete_checkout_comprehensive.py:683: in test_prepare_and_get_order_data
    ???
E   TypeError: _prepare_order_data() got an unexpected keyword argument 'checkout'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestInvalidateCheckout" name="test_invalidate_checkout_with_recalculate_discount" time="0.015" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestInvalidateCheckout" name="test_invalidate_checkout_without_recalculate_discount" time="0.015" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestInvalidateCheckoutPrices" name="test_invalidate_checkout_prices_with_save" time="0.017" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestInvalidateCheckoutPrices" name="test_invalidate_checkout_prices_without_save" time="0.011" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCheckVariantInStock" name="test_check_variant_in_stock_replace_mode" time="0.028" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCheckVariantInStock" name="test_check_variant_in_stock_add_mode" time="0.028" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCheckVariantInStock" name="test_check_variant_in_stock_no_existing_line" time="0.025" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCheckVariantInStock" name="test_check_variant_in_stock_negative_quantity_error" time="0.025" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCheckVariantInStock" name="test_check_variant_in_stock_with_check_quantity" time="0.025" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestAddVariantToCheckout" name="test_add_variant_to_checkout_product_not_published" time="0.023"><failure message="AttributeError: module 'saleor.checkout.utils' has no attribute 'ProductChannelListing'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:318: in test_add_variant_to_checkout_product_not_published
    ???
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'saleor.checkout.utils' has no attribute 'ProductChannelListing'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestAddVariantToCheckout" name="test_add_variant_to_checkout_force_new_line" time="0.024"><failure message="AttributeError: module 'saleor.checkout.utils' has no attribute 'ProductChannelListing'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:355: in test_add_variant_to_checkout_force_new_line
    ???
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/lib/python3.12/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'saleor.checkout.utils' has no attribute 'ProductChannelListing'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherDiscountForCheckout" name="test_get_voucher_discount_entire_order_apply_once" time="0.014"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:406: in test_get_voucher_discount_entire_order_apply_once
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherDiscountForCheckout" name="test_get_voucher_discount_entire_order_not_apply_once" time="0.013"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:442: in test_get_voucher_discount_entire_order_not_apply_once
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherDiscountForCheckout" name="test_get_voucher_discount_shipping" time="0.013"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:474: in test_get_voucher_discount_shipping
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherDiscountForCheckout" name="test_get_voucher_discount_specific_product" time="0.013"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:505: in test_get_voucher_discount_specific_product
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherDiscountForCheckout" name="test_get_voucher_discount_unknown_type" time="0.012" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_no_voucher_code" time="0.010" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_voucher_code_not_found" time="0.014" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_voucher_code_found" time="0.026"><failure message="assert None == &lt;Voucher: Voucher object (5)&gt;">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:600: in test_get_voucher_for_checkout_voucher_code_found
    ???
E   assert None == &lt;Voucher: Voucher object (5)&gt;</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_usage_increased" time="0.018" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestRecalculateCheckoutDiscount" name="test_recalculate_checkout_discount_with_voucher" time="0.013"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:659: in test_recalculate_checkout_discount_with_voucher
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestRecalculateCheckoutDiscount" name="test_recalculate_checkout_discount_no_voucher" time="0.014" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestIsShippingRequired" name="test_is_shipping_required_true" time="0.023"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:736: in test_is_shipping_required_true
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestIsShippingRequired" name="test_is_shipping_required_false" time="0.025"><failure message="NameError: name 'Money' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:778: in test_is_shipping_required_false
    ???
E   NameError: name 'Money' is not defined</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestCalculateCheckoutWeight" name="test_calculate_checkout_weight_sums_line_weights" time="0.023"><failure message="django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;product_producttype_slug_key&quot;&#10;DETAIL:  Key (slug)=() already exists.">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.UniqueViolation: duplicate key value violates unique constraint "product_producttype_slug_key"
E   DETAIL:  Key (slug)=() already exists.

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_comprehensive.py:809: in test_calculate_checkout_weight_sums_line_weights
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: duplicate key value violates unique constraint "product_producttype_slug_key"
E   DETAIL:  Key (slug)=() already exists.</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetAddressForCheckoutTaxes" name="test_get_address_for_checkout_taxes_uses_shipping_address" time="0.013" /><testcase classname="tests.whitebox.test_checkout_utils_comprehensive.TestGetAddressForCheckoutTaxes" name="test_get_address_for_checkout_taxes_uses_billing_address" time="0.012" /><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestInvalidateCheckout" name="test_invalidate_checkout_sets_should_refresh_prices" time="0.008"><failure message="TypeError: Checkout() got unexpected keyword arguments: 'should_refresh_prices'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:50: in test_invalidate_checkout_sets_should_refresh_prices
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Checkout() got unexpected keyword arguments: 'should_refresh_prices'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestInvalidateCheckoutPrices" name="test_invalidate_checkout_prices_sets_flag" time="0.009"><failure message="TypeError: Checkout() got unexpected keyword arguments: 'should_refresh_prices'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:73: in test_invalidate_checkout_prices_sets_flag
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Checkout() got unexpected keyword arguments: 'should_refresh_prices'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestCheckoutLinesBulkUpdate" name="test_checkout_lines_bulk_update_updates_lines" time="0.029" /><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestCheckoutLinesBulkDelete" name="test_checkout_lines_bulk_delete_deletes_lines" time="0.033" /><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestDeleteCheckouts" name="test_delete_checkouts_deletes_specified_checkouts" time="0.013"><failure message="AttributeError: 'Checkout' object has no attribute 'id'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:192: in test_delete_checkouts_deletes_specified_checkouts
    ???
E   AttributeError: 'Checkout' object has no attribute 'id'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestGetUserCheckout" name="test_get_user_checkout_returns_user_checkout" time="0.916"><failure message="AttributeError: 'str' object has no attribute 'filter'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:217: in test_get_user_checkout_returns_user_checkout
    ???
saleor/checkout/utils.py:178: in get_user_checkout
    return checkout_queryset.filter(user=user, channel__is_active=True).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'filter'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestGetUserCheckout" name="test_get_user_checkout_returns_none_when_no_checkout" time="0.959"><failure message="AttributeError: 'str' object has no attribute 'filter'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:230: in test_get_user_checkout_returns_none_when_no_checkout
    ???
saleor/checkout/utils.py:178: in get_user_checkout
    return checkout_queryset.filter(user=user, channel__is_active=True).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'str' object has no attribute 'filter'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestCheckVariantInStock" name="test_check_variant_in_stock_returns_true_when_available" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (dbc89b2b-de8c-4ca8-ab23-6b0948abe63b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (dbc89b2b-de8c-4ca8-ab23-6b0948abe63b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:246: in test_check_variant_in_stock_returns_true_when_available
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (dbc89b2b-de8c-4ca8-ab23-6b0948abe63b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestCheckVariantInStock" name="test_check_variant_in_stock_returns_false_when_not_enough" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (bff0ae70-153a-47ab-bb8d-00e3da0c3344, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bff0ae70-153a-47ab-bb8d-00e3da0c3344, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:277: in test_check_variant_in_stock_returns_false_when_not_enough
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bff0ae70-153a-47ab-bb8d-00e3da0c3344, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestAddVariantToCheckout" name="test_add_variant_to_checkout_creates_new_line" time="0.019"><failure message="AttributeError: 'Checkout' object has no attribute 'checkout'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:327: in test_add_variant_to_checkout_creates_new_line
    ???
saleor/checkout/utils.py:231: in add_variant_to_checkout
    checkout = checkout_info.checkout
               ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Checkout' object has no attribute 'checkout'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestAddVariantToCheckout" name="test_add_variant_to_checkout_increases_existing_line" time="0.018"><failure message="TypeError: add_variant_to_checkout() got multiple values for argument 'replace'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:359: in test_add_variant_to_checkout_increases_existing_line
    ???
E   TypeError: add_variant_to_checkout() got multiple values for argument 'replace'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestCalculateCheckoutQuantity" name="test_calculate_checkout_quantity_sums_line_quantities" time="0.023" /><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestChangeBillingAddressInCheckout" name="test_change_billing_address_sets_billing_address" time="0.014"><failure message="TypeError: change_billing_address_in_checkout() got an unexpected keyword argument 'save'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:434: in test_change_billing_address_sets_billing_address
    ???
E   TypeError: change_billing_address_in_checkout() got an unexpected keyword argument 'save'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestChangeShippingAddressInCheckout" name="test_change_shipping_address_sets_shipping_address" time="0.014"><failure message="TypeError: change_shipping_address_in_checkout() got an unexpected keyword argument 'save'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:463: in test_change_shipping_address_sets_shipping_address
    ???
E   TypeError: change_shipping_address_in_checkout() got an unexpected keyword argument 'save'</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_returns_voucher_when_code_exists" time="0.009"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:480: in test_get_voucher_for_checkout_returns_voucher_when_code_exists
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_checkout_utils_extensive.TestGetVoucherForCheckout" name="test_get_voucher_for_checkout_returns_none_when_no_code" time="0.013"><failure message="TypeError: get_voucher_for_checkout() missing 1 required positional argument: 'channel_slug'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_checkout_utils_extensive.py:508: in test_get_voucher_for_checkout_returns_none_when_no_code
    ???
E   TypeError: get_voucher_for_checkout() missing 1 required positional argument: 'channel_slug'</failure></testcase><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_get_value_from_private_metadata_key_exists" time="0.016" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_get_value_from_private_metadata_key_not_exists" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_store_value_in_private_metadata_metadata_exists" time="0.016" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_store_value_in_private_metadata_metadata_none" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_clear_private_metadata" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_delete_value_from_private_metadata_key_exists" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_delete_value_from_private_metadata_key_not_exists" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_get_value_from_metadata_key_exists" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_get_value_from_metadata_key_not_exists" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_store_value_in_metadata_metadata_exists" time="0.020" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_store_value_in_metadata_metadata_none" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_clear_metadata" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_delete_value_from_metadata_key_exists" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataStatementCoverage" name="test_delete_value_from_metadata_key_not_exists" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataDecisionCoverage" name="test_decision_private_metadata_key_in_true" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataDecisionCoverage" name="test_decision_private_metadata_key_in_false" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataDecisionCoverage" name="test_decision_metadata_key_in_true" time="0.014" /><testcase classname="tests.whitebox.test_core_metadata.TestModelWithMetadataDecisionCoverage" name="test_decision_metadata_key_in_false" time="0.015" /><testcase classname="tests.whitebox.test_core_metadata.TestPublishableModelIsVisible" name="test_is_visible_published_true_published_at_none" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_metadata.py:362: in test_is_visible_published_true_published_at_none
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_metadata.TestPublishableModelIsVisible" name="test_is_visible_published_true_published_at_past" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_metadata.py:380: in test_is_visible_published_true_published_at_past
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_metadata.TestPublishableModelIsVisible" name="test_is_visible_published_true_published_at_future" time="0.011"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_metadata.py:398: in test_is_visible_published_true_published_at_future
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_metadata.TestPublishableModelIsVisible" name="test_is_visible_published_false" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_metadata.py:416: in test_is_visible_published_false
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelStatementCoverage" name="test_save_new_object_no_existing_max" time="0.010"><failure message="AttributeError: 'Category' object has no attribute 'sort_order'">tests/whitebox/test_core_models.py:34: in test_save_new_object_no_existing_max
    assert category.sort_order == 0
           ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Category' object has no attribute 'sort_order'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelStatementCoverage" name="test_save_new_object_with_existing_max" time="0.016"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:56: in test_save_new_object_with_existing_max
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelStatementCoverage" name="test_save_existing_object" time="0.015"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:81: in test_save_existing_object
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelStatementCoverage" name="test_delete_with_sort_order" time="0.016"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:124: in test_delete_with_sort_order
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelStatementCoverage" name="test_delete_without_sort_order" time="0.013"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:157: in test_delete_without_sort_order
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelDecisionCoverage" name="test_decision_coverage_save_pk_none_true" time="0.013"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:193: in test_decision_coverage_save_pk_none_true
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelDecisionCoverage" name="test_decision_coverage_save_pk_none_false" time="0.013"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:217: in test_decision_coverage_save_pk_none_false
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelDecisionCoverage" name="test_decision_coverage_delete_sort_order_not_none_true" time="0.014"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:251: in test_decision_coverage_delete_sort_order_not_none_true
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelDecisionCoverage" name="test_decision_coverage_delete_sort_order_not_none_false" time="0.014"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:275: in test_decision_coverage_delete_sort_order_not_none_false
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelMCDC" name="test_mcdc_get_max_sort_order_none" time="0.013"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:310: in test_mcdc_get_max_sort_order_none
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestSortableModelMCDC" name="test_mcdc_get_max_sort_order_exists" time="0.015"><failure message="NameError: name 'Collection' is not defined">tests/whitebox/test_core_models.py:340: in test_mcdc_get_max_sort_order_exists
    collection = Collection.objects.create(
                 ^^^^^^^^^^
E   NameError: name 'Collection' is not defined</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelStatementCoverage" name="test_published_with_published_at_in_past" time="0.013"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:362: in test_published_with_published_at_in_past
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelStatementCoverage" name="test_published_with_published_at_null" time="0.014"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:379: in test_published_with_published_at_null
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelStatementCoverage" name="test_published_with_published_at_future" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:396: in test_published_with_published_at_future
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelStatementCoverage" name="test_published_with_is_published_false" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:413: in test_published_with_is_published_false
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelDecisionCoverage" name="test_decision_published_at_lte_today_true" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:438: in test_decision_published_at_lte_today_true
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelDecisionCoverage" name="test_decision_published_at_lte_today_false" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:454: in test_decision_published_at_lte_today_false
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelDecisionCoverage" name="test_decision_published_at_isnull_true" time="0.013"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:470: in test_decision_published_at_isnull_true
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelDecisionCoverage" name="test_decision_is_published_true" time="0.011"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:486: in test_decision_is_published_true
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelDecisionCoverage" name="test_decision_is_published_false" time="0.011"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:502: in test_decision_is_published_false
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelMCDC" name="test_mcdc_condition_a_true_b_true" time="0.012"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:526: in test_mcdc_condition_a_true_b_true
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelMCDC" name="test_mcdc_condition_a_false_b_true" time="0.011"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:542: in test_mcdc_condition_a_false_b_true
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelMCDC" name="test_mcdc_condition_a_true_b_false" time="0.013"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:558: in test_mcdc_condition_a_true_b_false
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_models.TestPublishableModelMCDC" name="test_mcdc_condition_null_date" time="0.018"><failure message="TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'">tests/whitebox/test_core_models.py:574: in test_mcdc_condition_null_date
    product = Product.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Product() got unexpected keyword arguments: 'is_published', 'published_at'</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestGetClientIp" name="test_get_client_ip_x_forwarded_for_single" time="0.009" /><testcase classname="tests.whitebox.test_core_utils.TestGetClientIp" name="test_get_client_ip_x_forwarded_for_multiple" time="0.007" /><testcase classname="tests.whitebox.test_core_utils.TestGetClientIp" name="test_get_client_ip_remote_addr" time="0.007" /><testcase classname="tests.whitebox.test_core_utils.TestGetClientIp" name="test_get_client_ip_invalid_ip" time="0.007" /><testcase classname="tests.whitebox.test_core_utils.TestGetClientIp" name="test_get_client_ip_none" time="0.007"><failure message="AssertionError: assert None == '127.0.0.1'">tests/whitebox/test_core_utils.py:59: in test_get_client_ip_none
    assert ip == "127.0.0.1"
E   AssertionError: assert None == '127.0.0.1'</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestBuildAbsoluteUri" name="test_build_absolute_uri_with_domain" time="0.007" /><testcase classname="tests.whitebox.test_core_utils.TestBuildAbsoluteUri" name="test_build_absolute_uri_without_domain" time="0.012" /><testcase classname="tests.whitebox.test_core_utils.TestBuildAbsoluteUri" name="test_build_absolute_uri_https" time="0.008"><failure message="TypeError: build_absolute_uri() got an unexpected keyword argument 'protocol'">tests/whitebox/test_core_utils.py:85: in test_build_absolute_uri_https
    uri = build_absolute_uri("/path/to/resource", domain="example.com", protocol="https")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: build_absolute_uri() got an unexpected keyword argument 'protocol'</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestBuildAbsoluteUri" name="test_build_absolute_uri_absolute_path" time="0.010" /><testcase classname="tests.whitebox.test_core_utils.TestBuildAbsoluteUri" name="test_build_absolute_uri_relative_path" time="0.012" /><testcase classname="tests.whitebox.test_core_utils.TestGetDomain" name="test_get_domain_with_site" time="0.014" /><testcase classname="tests.whitebox.test_core_utils.TestGetDomain" name="test_get_domain_without_site" time="0.013" /><testcase classname="tests.whitebox.test_core_utils.TestGetDomain" name="test_get_domain_none_site" time="0.010"><failure message="AttributeError: 'NoneType' object has no attribute 'domain'">tests/whitebox/test_core_utils.py:123: in test_get_domain_none_site
    domain = get_domain()
             ^^^^^^^^^^^^
saleor/core/utils/__init__.py:26: in get_domain
    return site.domain
           ^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'domain'</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestGetPublicUrl" name="test_get_public_url_with_domain" time="0.007" /><testcase classname="tests.whitebox.test_core_utils.TestGetPublicUrl" name="test_get_public_url_without_domain" time="0.013"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">tests/whitebox/test_core_utils.py:145: in test_get_public_url_without_domain
    url = get_public_url()
          ^^^^^^^^^^^^^^^^
saleor/core/utils/__init__.py:32: in get_public_url
    host = domain or Site.objects.get_current().domain
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/site/patch_sites.py:29: in new_get_current
    self.prefetch_related("settings")
.venv/lib/python3.12/site-packages/django/db/models/query.py:437: in __getitem__
    qs._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestGetPublicUrl" name="test_get_public_url_https" time="0.008"><failure message="TypeError: get_public_url() got an unexpected keyword argument 'protocol'">tests/whitebox/test_core_utils.py:150: in test_get_public_url_https
    url = get_public_url(domain="example.com", protocol="https")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: get_public_url() got an unexpected keyword argument 'protocol'</failure></testcase><testcase classname="tests.whitebox.test_core_utils.TestGetPublicUrl" name="test_get_public_url_none_domain" time="0.010"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">tests/whitebox/test_core_utils.py:156: in test_get_public_url_none_domain
    url = get_public_url()
          ^^^^^^^^^^^^^^^^
saleor/core/utils/__init__.py:32: in get_public_url
    host = domain or Site.objects.get_current().domain
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/site/patch_sites.py:29: in new_get_current
    self.prefetch_related("settings")
.venv/lib/python3.12/site-packages/django/db/models/query.py:437: in __getitem__
    qs._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestCalculateDiscountedPriceForRules" name="test_calculate_discounted_price_no_rules" time="0.008" /><testcase classname="tests.whitebox.test_discount_utils.TestCalculateDiscountedPriceForRules" name="test_calculate_discounted_price_with_rules" time="0.016"><failure message="NotImplementedError: Unknown discount type">tests/whitebox/test_discount_utils.py:72: in test_calculate_discounted_price_with_rules
    result = calculate_discounted_price_for_rules(
saleor/discount/utils/promotion.py:86: in calculate_discounted_price_for_rules
    discount = rule.get_discount(currency)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/discount/models.py:426: in get_discount
    raise NotImplementedError("Unknown discount type")
E   NotImplementedError: Unknown discount type</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestCalculateDiscountedPriceForRules" name="test_calculate_discounted_price_multiple_rules" time="0.013"><failure message="NotImplementedError: Unknown discount type">tests/whitebox/test_discount_utils.py:111: in test_calculate_discounted_price_multiple_rules
    result = calculate_discounted_price_for_rules(
saleor/discount/utils/promotion.py:86: in calculate_discounted_price_for_rules
    discount = rule.get_discount(currency)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/discount/models.py:426: in get_discount
    raise NotImplementedError("Unknown discount type")
E   NotImplementedError: Unknown discount type</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestCalculateDiscountedPriceForRules" name="test_calculate_discounted_price_result_negative" time="0.013"><failure message="NotImplementedError: Unknown discount type">tests/whitebox/test_discount_utils.py:143: in test_calculate_discounted_price_result_negative
    result = calculate_discounted_price_for_rules(
saleor/discount/utils/promotion.py:86: in calculate_discounted_price_for_rules
    discount = rule.get_discount(currency)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/discount/models.py:426: in get_discount
    raise NotImplementedError("Unknown discount type")
E   NotImplementedError: Unknown discount type</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestPreparePromotionDiscountReason" name="test_prepare_reason_with_old_sale_id" time="0.008"><failure message="AssertionError: assert '123' in 'Sale: U2FsZToxMjM='&#10; +  where '123' = str(123)&#10; +    where 123 = &lt;Promotion: Promotion object (5ff574a2-debc-4ec5-aae3-dcb11e036499)&gt;.old_sale_id">tests/whitebox/test_discount_utils.py:172: in test_prepare_reason_with_old_sale_id
    assert str(promotion.old_sale_id) in reason
E   AssertionError: assert '123' in 'Sale: U2FsZToxMjM='
E    +  where '123' = str(123)
E    +    where 123 = &lt;Promotion: Promotion object (5ff574a2-debc-4ec5-aae3-dcb11e036499)&gt;.old_sale_id</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestPreparePromotionDiscountReason" name="test_prepare_reason_without_old_sale_id" time="0.008"><failure message="AssertionError: assert '962e1b0a-a7ef-4984-b82b-006fa926abf0' in 'Promotion: UHJvbW90aW9uOjk2MmUxYjBhLWE3ZWYtNDk4NC1iODJiLTAwNmZhOTI2YWJmMA=='&#10; +  where '962e1b0a-a7ef-4984-b82b-006fa926abf0' = str(UUID('962e1b0a-a7ef-4984-b82b-006fa926abf0'))&#10; +    where UUID('962e1b0a-a7ef-4984-b82b-006fa926abf0') = &lt;Promotion: Promotion object (962e1b0a-a7ef-4984-b82b-006fa926abf0)&gt;.id">tests/whitebox/test_discount_utils.py:185: in test_prepare_reason_without_old_sale_id
    assert str(promotion.id) in reason
E   AssertionError: assert '962e1b0a-a7ef-4984-b82b-006fa926abf0' in 'Promotion: UHJvbW90aW9uOjk2MmUxYjBhLWE3ZWYtNDk4NC1iODJiLTAwNmZhOTI2YWJmMA=='
E    +  where '962e1b0a-a7ef-4984-b82b-006fa926abf0' = str(UUID('962e1b0a-a7ef-4984-b82b-006fa926abf0'))
E    +    where UUID('962e1b0a-a7ef-4984-b82b-006fa926abf0') = &lt;Promotion: Promotion object (962e1b0a-a7ef-4984-b82b-006fa926abf0)&gt;.id</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestGetSaleId" name="test_get_sale_id_with_old_sale_id" time="0.008"><failure message="AssertionError: assert 'Sale' in 'U2FsZTo0NTY='">tests/whitebox/test_discount_utils.py:205: in test_get_sale_id_with_old_sale_id
    assert "Sale" in sale_id
E   AssertionError: assert 'Sale' in 'U2FsZTo0NTY='</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestGetSaleId" name="test_get_sale_id_without_old_sale_id" time="0.008"><failure message="AssertionError: assert 'Promotion' in 'UHJvbW90aW9uOjZhYzQ0MDk3LWQ4YjQtNDlmMC05MDMyLWRiYzY5Y2ExMzFhZA=='">tests/whitebox/test_discount_utils.py:218: in test_get_sale_id_without_old_sale_id
    assert "Promotion" in sale_id
E   AssertionError: assert 'Promotion' in 'UHJvbW90aW9uOjZhYzQ0MDk3LWQ4YjQtNDlmMC05MDMyLWRiYzY5Y2ExMzFhZA=='</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsOrderLevelVoucher" name="test_is_order_level_voucher_entire_order" time="0.007"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">tests/whitebox/test_discount_utils.py:231: in test_is_order_level_voucher_entire_order
    voucher = Voucher.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsOrderLevelVoucher" name="test_is_order_level_voucher_shipping" time="0.006"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">tests/whitebox/test_discount_utils.py:241: in test_is_order_level_voucher_shipping
    voucher = Voucher.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsOrderLevelVoucher" name="test_is_order_level_voucher_specific_product" time="0.006"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">tests/whitebox/test_discount_utils.py:251: in test_is_order_level_voucher_specific_product
    voucher = Voucher.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsOrderLevelVoucher" name="test_is_order_level_voucher_none" time="0.006" /><testcase classname="tests.whitebox.test_discount_utils.TestIsShippingVoucher" name="test_is_shipping_voucher_true" time="0.007"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">tests/whitebox/test_discount_utils.py:274: in test_is_shipping_voucher_true
    voucher = Voucher.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsShippingVoucher" name="test_is_shipping_voucher_false" time="0.008"><failure message="AttributeError: property 'code' of 'Voucher' object has no setter">tests/whitebox/test_discount_utils.py:284: in test_is_shipping_voucher_false
    voucher = Voucher.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'code' of 'Voucher' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_discount_utils.TestIsShippingVoucher" name="test_is_shipping_voucher_none" time="0.006" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateOrUpdateDiscountObjectsFromPromotionForCheckout" name="test_create_or_update_discount_objects_returns_soonest_end_date" time="0.012"><failure message="assert datetime.datetime(2025, 12, 11, 11, 13, 30, 164010) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 164115) + datetime.timedelta(days=3))&#10; +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 164115) = &lt;built-in method now of type object at 0xa4fd20&gt;()&#10; +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now&#10; +  and   datetime.timedelta(days=3) = timedelta(days=3)">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_checkout_comprehensive.py:57: in test_create_or_update_discount_objects_returns_soonest_end_date
    ???
E   assert datetime.datetime(2025, 12, 11, 11, 13, 30, 164010) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 164115) + datetime.timedelta(days=3))
E    +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 164115) = &lt;built-in method now of type object at 0xa4fd20&gt;()
E    +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now
E    +  and   datetime.timedelta(days=3) = timedelta(days=3)</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateOrUpdateDiscountObjectsFromPromotionForCheckout" name="test_create_or_update_discount_objects_returns_catalogue_date_only" time="0.012"><failure message="assert datetime.datetime(2025, 12, 13, 11, 13, 30, 179027) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 179138) + datetime.timedelta(days=5))&#10; +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 179138) = &lt;built-in method now of type object at 0xa4fd20&gt;()&#10; +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now&#10; +  and   datetime.timedelta(days=5) = timedelta(days=5)">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_checkout_comprehensive.py:86: in test_create_or_update_discount_objects_returns_catalogue_date_only
    ???
E   assert datetime.datetime(2025, 12, 13, 11, 13, 30, 179027) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 179138) + datetime.timedelta(days=5))
E    +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 179138) = &lt;built-in method now of type object at 0xa4fd20&gt;()
E    +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now
E    +  and   datetime.timedelta(days=5) = timedelta(days=5)</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateOrUpdateDiscountObjectsFromPromotionForCheckout" name="test_create_or_update_discount_objects_returns_order_date_only" time="0.013"><failure message="assert datetime.datetime(2025, 12, 11, 11, 13, 30, 194260) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 194367) + datetime.timedelta(days=3))&#10; +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 194367) = &lt;built-in method now of type object at 0xa4fd20&gt;()&#10; +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now&#10; +  and   datetime.timedelta(days=3) = timedelta(days=3)">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_checkout_comprehensive.py:115: in test_create_or_update_discount_objects_returns_order_date_only
    ???
E   assert datetime.datetime(2025, 12, 11, 11, 13, 30, 194260) == (datetime.datetime(2025, 12, 8, 11, 13, 30, 194367) + datetime.timedelta(days=3))
E    +  where datetime.datetime(2025, 12, 8, 11, 13, 30, 194367) = &lt;built-in method now of type object at 0xa4fd20&gt;()
E    +    where &lt;built-in method now of type object at 0xa4fd20&gt; = datetime.now
E    +  and   datetime.timedelta(days=3) = timedelta(days=3)</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateOrUpdateDiscountObjectsFromPromotionForCheckout" name="test_create_or_update_discount_objects_returns_none_when_both_none" time="0.017" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestPrepareCheckoutLineDiscountObjectsForCataloguePromotions" name="test_prepare_checkout_line_discount_returns_none_when_no_lines" time="0.011" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestPrepareCheckoutLineDiscountObjectsForCataloguePromotions" name="test_prepare_checkout_line_discount_skips_line_without_channel_listing" time="0.010" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestPrepareCheckoutLineDiscountObjectsForCataloguePromotions" name="test_prepare_checkout_line_discount_removes_when_manual_discount_exists" time="0.007" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestPrepareCheckoutLineDiscountObjectsForCataloguePromotions" name="test_prepare_checkout_line_discount_removes_when_not_discounted" time="0.008" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestPrepareCheckoutLineDiscountObjectsForCataloguePromotions" name="test_prepare_checkout_line_discount_removes_when_gift" time="0.008" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateCheckoutDiscountObjectsForOrderPromotions" name="test_create_checkout_discount_clears_when_voucher_code_exists" time="0.014" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestCreateCheckoutDiscountObjectsForOrderPromotions" name="test_create_checkout_discount_clears_when_no_promotion_applied" time="0.015" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestSetCheckoutBasePrices" name="test_set_checkout_base_prices_updates_when_different" time="0.022" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestSetCheckoutBasePrices" name="test_set_checkout_base_prices_skips_when_same" time="0.019" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestClearCheckoutDiscount" name="test_clear_checkout_discount_deletes_order_promotion_discounts" time="0.029" /><testcase classname="tests.whitebox.test_discount_utils_checkout_comprehensive.TestClearCheckoutDiscount" name="test_clear_checkout_discount_clears_voucher_fields" time="0.028"><failure message="AssertionError: assert None == ''&#10; +  where None = &lt;Checkout: Checkout object (710d49cc-6474-4abc-917c-1184bb21d538)&gt;.discount_name">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_checkout_comprehensive.py:397: in test_clear_checkout_discount_clears_voucher_fields
    ???
E   AssertionError: assert None == ''
E    +  where None = &lt;Checkout: Checkout object (710d49cc-6474-4abc-917c-1184bb21d538)&gt;.discount_name</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderLineDiscountObjects" name="test_create_order_line_discount_objects_returns_none_when_no_data" time="0.011" /><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderLineDiscountObjects" name="test_create_order_line_discount_objects_returns_none_when_no_lines" time="0.011" /><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderLineDiscountObjects" name="test_create_order_line_discount_objects_removes_discounts" time="0.026"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 928b4587-6b7a-44cc-a0cd-068a9e20452e, e8e8a6d0-21f1-44cd-adbf-82f824ffd622, null, 2025-12-08 11:13:30.465786+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 928b4587-6b7a-44cc-a0cd-068a9e20452e, e8e8a6d0-21f1-44cd-adbf-82f824ffd622, null, 2025-12-08 11:13:30.465786+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:55: in test_create_order_line_discount_objects_removes_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 928b4587-6b7a-44cc-a0cd-068a9e20452e, e8e8a6d0-21f1-44cd-adbf-82f824ffd622, null, 2025-12-08 11:13:30.465786+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderLineDiscountObjects" name="test_create_order_line_discount_objects_creates_discounts" time="0.023"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 66e92248-87c0-4aa9-9d78-f050f0a5f066, b485f011-05d6-43d6-be32-0e148b3ed0e4, null, 2025-12-08 11:13:31.306494+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 66e92248-87c0-4aa9-9d78-f050f0a5f066, b485f011-05d6-43d6-be32-0e148b3ed0e4, null, 2025-12-08 11:13:31.306494+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:96: in test_create_order_line_discount_objects_creates_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 66e92248-87c0-4aa9-9d78-f050f0a5f066, b485f011-05d6-43d6-be32-0e148b3ed0e4, null, 2025-12-08 11:13:31.306494+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestUpdateCataloguePromotionDiscountAmountForOrder" name="test_update_catalogue_promotion_discount_amount_updates_amount" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3d3803ef-9a6c-40ca-9686-b5f5e118680f, 9f4def69-d680-4903-821b-441d3df13186, null, 2025-12-08 11:13:32.073168+00, 0.000, 10.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3d3803ef-9a6c-40ca-9686-b5f5e118680f, 9f4def69-d680-4903-821b-441d3df13186, null, 2025-12-08 11:13:32.073168+00, 0.000, 10.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:142: in test_update_catalogue_promotion_discount_amount_updates_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3d3803ef-9a6c-40ca-9686-b5f5e118680f, 9f4def69-d680-4903-821b-441d3df13186, null, 2025-12-08 11:13:32.073168+00, 0.000, 10.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestUpdateUnitDiscountDataOnOrderLine" name="test_update_unit_discount_data_sets_fields_when_no_discounts" time="0.017"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 71f776f3-0dbf-4fde-a0d3-063a15c77184, e770a99a-716d-4384-b87c-e407e2daf7c9, null, 2025-12-08 11:13:32.828127+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 71f776f3-0dbf-4fde-a0d3-063a15c77184, e770a99a-716d-4384-b87c-e407e2daf7c9, null, 2025-12-08 11:13:32.828127+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:188: in test_update_unit_discount_data_sets_fields_when_no_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 71f776f3-0dbf-4fde-a0d3-063a15c77184, e770a99a-716d-4384-b87c-e407e2daf7c9, null, 2025-12-08 11:13:32.828127+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestUpdateUnitDiscountDataOnOrderLine" name="test_update_unit_discount_data_sets_fields_for_single_discount" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, f5945d7b-6878-42a6-9e65-cd2e29aed47a, 40f83fca-ff89-470b-9de7-cf8ac56f0bf9, null, 2025-12-08 11:13:33.63087+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, f5945d7b-6878-42a6-9e65-cd2e29aed47a, 40f83fca-ff89-470b-9de7-cf8ac56f0bf9, null, 2025-12-08 11:13:33.63087+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:219: in test_update_unit_discount_data_sets_fields_for_single_discount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, f5945d7b-6878-42a6-9e65-cd2e29aed47a, 40f83fca-ff89-470b-9de7-cf8ac56f0bf9, null, 2025-12-08 11:13:33.63087+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestUpdateUnitDiscountDataOnOrderLine" name="test_update_unit_discount_data_sets_fixed_type_for_multiple_discounts" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, db4df5bf-9862-40b5-826f-786ccd54e337, e6bf2779-5b77-4322-bc4f-fb9ecd7b5f85, null, 2025-12-08 11:13:34.428174+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, db4df5bf-9862-40b5-826f-786ccd54e337, e6bf2779-5b77-4322-bc4f-fb9ecd7b5f85, null, 2025-12-08 11:13:34.428174+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:259: in test_update_unit_discount_data_sets_fixed_type_for_multiple_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, db4df5bf-9862-40b5-826f-786ccd54e337, e6bf2779-5b77-4322-bc4f-fb9ecd7b5f85, null, 2025-12-08 11:13:34.428174+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestHandleOrderPromotion" name="test_handle_order_promotion_calls_create_discount_objects" time="0.019" /><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderDiscountObjectsForOrderPromotions" name="test_create_order_discount_clears_when_voucher_code_exists" time="0.014" /><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestCreateOrderDiscountObjectsForOrderPromotions" name="test_create_order_discount_clears_when_manual_discount_exists" time="0.021" /><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestSetOrderBasePrices" name="test_set_order_base_prices_updates_when_different" time="0.019"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 90.000, 90.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89a23e09-e99b-43db-ad60-c5e2237d560d, 4c9127c2-4943-4997-8710-4c53eb099a1f, null, 2025-12-08 11:13:35.23673+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 90.000, 90.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89a23e09-e99b-43db-ad60-c5e2237d560d, 4c9127c2-4943-4997-8710-4c53eb099a1f, null, 2025-12-08 11:13:35.23673+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:393: in test_set_order_base_prices_updates_when_different
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 90.000, 90.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89a23e09-e99b-43db-ad60-c5e2237d560d, 4c9127c2-4943-4997-8710-4c53eb099a1f, null, 2025-12-08 11:13:35.23673+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestSetOrderBasePrices" name="test_set_order_base_prices_skips_when_same" time="0.017"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 100.000, 100.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 34b0ec6b-44c0-4177-959c-83b50f5574b0, 264afd0e-1c80-4681-8471-e6913e83d365, null, 2025-12-08 11:13:36.054139+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 100.000, 100.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 34b0ec6b-44c0-4177-959c-83b50f5574b0, 264afd0e-1c80-4681-8471-e6913e83d365, null, 2025-12-08 11:13:36.054139+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_discount_utils_order_comprehensive.py:432: in test_set_order_base_prices_skips_when_same
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 100.000, 100.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 34b0ec6b-44c0-4177-959c-83b50f5574b0, 264afd0e-1c80-4681-8471-e6913e83d365, null, 2025-12-08 11:13:36.054139+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_discount_utils_order_comprehensive.TestClearOrderDiscount" name="test_clear_order_discount_deletes_order_promotion_discounts" time="0.026" /><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCleanMarkOrderAsPaid" name="test_clean_mark_order_as_paid_raises_when_payments_exist" time="0.023" /><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCleanMarkOrderAsPaid" name="test_clean_mark_order_as_paid_raises_when_transactions_exist" time="0.021" /><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCleanMarkOrderAsPaid" name="test_clean_mark_order_as_paid_passes_when_no_payments_or_transactions" time="0.015" /><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestIncreaseOrderLineQuantity" name="test_increase_order_line_quantity_updates_fulfilled_quantity" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 2, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 91ab2d74-b9d6-49a2-987b-a7ca74dc8fbb, e9cf4505-56cf-4840-81b4-bab20e6cfc4d, null, 2025-12-08 11:13:36.940387+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 2, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 91ab2d74-b9d6-49a2-987b-a7ca74dc8fbb, e9cf4505-56cf-4840-81b4-bab20e6cfc4d, null, 2025-12-08 11:13:36.940387+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:137: in test_increase_order_line_quantity_updates_fulfilled_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 2, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 91ab2d74-b9d6-49a2-987b-a7ca74dc8fbb, e9cf4505-56cf-4840-81b4-bab20e6cfc4d, null, 2025-12-08 11:13:36.940387+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestFulfillOrderLines" name="test_fulfill_order_lines_decreases_stock_and_increases_quantity" time="0.010"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (51dc0a41-b6fe-4f71-9f62-72a8b3587540, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (51dc0a41-b6fe-4f71-9f62-72a8b3587540, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:172: in test_fulfill_order_lines_decreases_stock_and_increases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (51dc0a41-b6fe-4f71-9f62-72a8b3587540, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetFulfillmentLineIfExists" name="test_get_fulfillment_line_if_exists_returns_line_when_found" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 1270ec7f-d1bb-4da5-b669-39a88b292b01, 9afd50fc-2af8-4ecd-914c-5bfc25b110e6, null, 2025-12-08 11:13:38.426376+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 1270ec7f-d1bb-4da5-b669-39a88b292b01, 9afd50fc-2af8-4ecd-914c-5bfc25b110e6, null, 2025-12-08 11:13:38.426376+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:247: in test_get_fulfillment_line_if_exists_returns_line_when_found
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 1270ec7f-d1bb-4da5-b669-39a88b292b01, 9afd50fc-2af8-4ecd-914c-5bfc25b110e6, null, 2025-12-08 11:13:38.426376+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetFulfillmentLineIfExists" name="test_get_fulfillment_line_if_exists_returns_none_when_not_found" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3a6257bb-4991-4f7e-9ab8-f98a24d20bd8, d1ce97f3-ba39-4214-a72e-bf82bc3fd625, null, 2025-12-08 11:13:39.102903+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3a6257bb-4991-4f7e-9ab8-f98a24d20bd8, d1ce97f3-ba39-4214-a72e-bf82bc3fd625, null, 2025-12-08 11:13:39.102903+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:285: in test_get_fulfillment_line_if_exists_returns_none_when_not_found
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 3a6257bb-4991-4f7e-9ab8-f98a24d20bd8, d1ce97f3-ba39-4214-a72e-bf82bc3fd625, null, 2025-12-08 11:13:39.102903+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetFulfillmentLine" name="test_get_fulfillment_line_returns_existing_line" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fe00634b-4f1b-473f-9195-f2759d4f835f, 3a9a059b-1aee-4ba1-91c7-820783ac64b8, null, 2025-12-08 11:13:39.809825+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fe00634b-4f1b-473f-9195-f2759d4f835f, 3a9a059b-1aee-4ba1-91c7-820783ac64b8, null, 2025-12-08 11:13:39.809825+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:328: in test_get_fulfillment_line_returns_existing_line
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fe00634b-4f1b-473f-9195-f2759d4f835f, 3a9a059b-1aee-4ba1-91c7-820783ac64b8, null, 2025-12-08 11:13:39.809825+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetFulfillmentLine" name="test_get_fulfillment_line_creates_new_line_when_not_exists" time="0.018"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, d8716642-f6b5-4a7c-a00f-fabf220674b8, 6b045dd6-5990-4866-aa4d-f2e3d1d9af82, null, 2025-12-08 11:13:40.656435+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, d8716642-f6b5-4a7c-a00f-fabf220674b8, 6b045dd6-5990-4866-aa4d-f2e3d1d9af82, null, 2025-12-08 11:13:40.656435+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:368: in test_get_fulfillment_line_creates_new_line_when_not_exists
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, d8716642-f6b5-4a7c-a00f-fabf220674b8, 6b045dd6-5990-4866-aa4d-f2e3d1d9af82, null, 2025-12-08 11:13:40.656435+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetShippingRefundAmount" name="test_get_shipping_refund_amount_returns_shipping_when_refund_shipping_and_no_amount" time="0.007"><failure message="NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:399: in test_get_shipping_refund_amount_returns_shipping_when_refund_shipping_and_no_amount
    ???
E   NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetShippingRefundAmount" name="test_get_shipping_refund_amount_returns_none_when_refund_shipping_false" time="0.006"><failure message="NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:405: in test_get_shipping_refund_amount_returns_none_when_refund_shipping_false
    ???
E   NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestGetShippingRefundAmount" name="test_get_shipping_refund_amount_returns_none_when_amount_provided" time="0.006"><failure message="NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:411: in test_get_shipping_refund_amount_returns_none_when_amount_provided
    ???
E   NameError: name '_TestGetShippingRefundAmount__get_shipping_refund_amount' is not defined</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestPopulateReplaceOrderFields" name="test_populate_replace_order_fields_copies_order_fields" time="1.019"><failure message="AttributeError: type object 'OrderStatus' has no attribute 'CONFIRMED'. Did you mean: 'UNCONFIRMED'?">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:430: in test_populate_replace_order_fields_copies_order_fields
    ???
E   AttributeError: type object 'OrderStatus' has no attribute 'CONFIRMED'. Did you mean: 'UNCONFIRMED'?</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestDecreaseFulfilledQuantity" name="test_decrease_fulfilled_quantity_decreases_quantity" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 3, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, bcd3ac9f-e31b-466e-82bc-2846548f51b1, 502c76d4-ebd5-4d9d-a8c8-c26638f965a0, null, 2025-12-08 11:13:42.445623+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 3, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, bcd3ac9f-e31b-466e-82bc-2846548f51b1, 502c76d4-ebd5-4d9d-a8c8-c26638f965a0, null, 2025-12-08 11:13:42.445623+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:466: in test_decrease_fulfilled_quantity_decreases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 10.000, null, 3, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, bcd3ac9f-e31b-466e-82bc-2846548f51b1, 502c76d4-ebd5-4d9d-a8c8-c26638f965a0, null, 2025-12-08 11:13:42.445623+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCalculateRefundAmount" name="test_calculate_refund_amount_calculates_from_order_lines" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product 1, SKU1, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fcbe17e4-e25d-4f2d-a2be-084e3ea4f5af, 4ca5b03c-0e20-4d39-abf6-87fe4fe4615f, null, 2025-12-08 11:13:43.171018+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fcbe17e4-e25d-4f2d-a2be-084e3ea4f5af, 4ca5b03c-0e20-4d39-abf6-87fe4fe4615f, null, 2025-12-08 11:13:43.171018+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:507: in test_calculate_refund_amount_calculates_from_order_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fcbe17e4-e25d-4f2d-a2be-084e3ea4f5af, 4ca5b03c-0e20-4d39-abf6-87fe4fe4615f, null, 2025-12-08 11:13:43.171018+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCalculateRefundAmount" name="test_calculate_refund_amount_includes_fulfillment_lines" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fdea0aa5-74db-4bff-8623-53be8f64364a, d00f6f61-61ed-4aa2-9fd6-6154a69597ff, null, 2025-12-08 11:13:43.852664+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fdea0aa5-74db-4bff-8623-53be8f64364a, d00f6f61-61ed-4aa2-9fd6-6154a69597ff, null, 2025-12-08 11:13:43.852664+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:554: in test_calculate_refund_amount_includes_fulfillment_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, fdea0aa5-74db-4bff-8623-53be8f64364a, d00f6f61-61ed-4aa2-9fd6-6154a69597ff, null, 2025-12-08 11:13:43.852664+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive.TestCalculateRefundAmount" name="test_calculate_refund_amount_skips_already_refunded_lines" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, de5f6e0b-431c-4013-aa62-37c3736b6978, cf5412e6-a046-432d-a074-1b26dcd455e8, null, 2025-12-08 11:13:44.559337+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, de5f6e0b-431c-4013-aa62-37c3736b6978, cf5412e6-a046-432d-a074-1b26dcd455e8, null, 2025-12-08 11:13:44.559337+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:596: in test_calculate_refund_amount_skips_already_refunded_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 5, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, de5f6e0b-431c-4013-aa62-37c3736b6978, cf5412e6-a046-432d-a074-1b26dcd455e8, null, 2025-12-08 11:13:44.559337+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive" name="test_approve_fulfillment_sets_status_and_notifies" time="0.023"><failure message="TypeError: approve_fulfillment() missing 3 required positional arguments: 'app', 'manager', and 'settings'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:638: in test_approve_fulfillment_sets_status_and_notifies
    ???
E   TypeError: approve_fulfillment() missing 3 required positional arguments: 'app', 'manager', and 'settings'</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive" name="test_cancel_fulfillment_sets_canceled" time="0.019"><failure message="TypeError: cancel_fulfillment() missing 2 required positional arguments: 'warehouse' and 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:650: in test_cancel_fulfillment_sets_canceled
    ???
E   TypeError: cancel_fulfillment() missing 2 required positional arguments: 'warehouse' and 'manager'</failure></testcase><testcase classname="tests.whitebox.test_order_actions_comprehensive" name="test_create_fulfillments_for_returned_products_creates_lines" time="0.010"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (579e964e-a1c8-4fbe-ac7f-2e93e76f049c, W, , null, w, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (579e964e-a1c8-4fbe-ac7f-2e93e76f049c, W, , null, w, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_actions_comprehensive.py:659: in test_create_fulfillments_for_returned_products_creates_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (579e964e-a1c8-4fbe-ac7f-2e93e76f049c, W, , null, w, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderShipping" name="test_base_order_shipping" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:46.24318+00, , , adee4604-4555-437c-accd-9207affed4a6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 184, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:46.244316+00, f, 32, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:46.24318+00, , , adee4604-4555-437c-accd-9207affed4a6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 184, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:46.244316+00, f, 32, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:42: in test_base_order_shipping
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:46.24318+00, , , adee4604-4555-437c-accd-9207affed4a6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 184, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:46.244316+00, f, 32, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderSubtotal" name="test_base_order_subtotal_single_line" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:47.013037+00, , , 8f847c82-5b9c-4b77-836e-e20a395ba0c9, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 185, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.014216+00, f, 33, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:47.013037+00, , , 8f847c82-5b9c-4b77-836e-e20a395ba0c9, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 185, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.014216+00, f, 33, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:68: in test_base_order_subtotal_single_line
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:47.013037+00, , , 8f847c82-5b9c-4b77-836e-e20a395ba0c9, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 185, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.014216+00, f, 33, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderSubtotal" name="test_base_order_subtotal_multiple_lines" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:47.740245+00, , , 3efd8bd8-e0d7-4c17-addf-1e4c3547bfa6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 186, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.741612+00, f, 34, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:47.740245+00, , , 3efd8bd8-e0d7-4c17-addf-1e4c3547bfa6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 186, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.741612+00, f, 34, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:111: in test_base_order_subtotal_multiple_lines
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:47.740245+00, , , 3efd8bd8-e0d7-4c17-addf-1e4c3547bfa6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 186, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:47.741612+00, f, 34, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderSubtotal" name="test_base_order_subtotal_empty_lines" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:48.525134+00, , , 11497142-8d25-4a05-a364-8dfc630c988a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 187, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:48.526374+00, f, 35, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:48.525134+00, , , 11497142-8d25-4a05-a364-8dfc630c988a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 187, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:48.526374+00, f, 35, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:163: in test_base_order_subtotal_empty_lines
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:48.525134+00, , , 11497142-8d25-4a05-a364-8dfc630c988a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 187, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:48.526374+00, f, 35, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderLineTotal" name="test_base_order_line_total" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:49.402893+00, , , 98686c1f-436e-422c-8198-f87c80253fb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 188, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:49.40401+00, f, 36, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:49.402893+00, , , 98686c1f-436e-422c-8198-f87c80253fb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 188, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:49.40401+00, f, 36, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:188: in test_base_order_line_total
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:49.402893+00, , , 98686c1f-436e-422c-8198-f87c80253fb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 188, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:49.40401+00, f, 36, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestBaseOrderTotal" name="test_base_order_total" time="0.017"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:50.203166+00, , , b8ff7513-c6a9-4cac-aa46-12d4916f299d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 189, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.204845+00, f, 37, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:50.203166+00, , , b8ff7513-c6a9-4cac-aa46-12d4916f299d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 189, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.204845+00, f, 37, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:243: in test_base_order_total
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:50.203166+00, , , b8ff7513-c6a9-4cac-aa46-12d4916f299d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 189, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.204845+00, f, 37, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_discount_no_discounts" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:50.990209+00, , , 86d1b082-d19e-442a-933c-f51e6b58c1d8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 190, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.991497+00, f, 38, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:50.990209+00, , , 86d1b082-d19e-442a-933c-f51e6b58c1d8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 190, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.991497+00, f, 38, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:299: in test_propagate_discount_no_discounts
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:50.990209+00, , , 86d1b082-d19e-442a-933c-f51e6b58c1d8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 190, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:50.991497+00, f, 38, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_discount_with_entire_order_voucher" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:51.787178+00, , , f60a3ff0-65fc-4b13-9384-2110347898ba, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 191, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:51.788314+00, f, 39, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:51.787178+00, , , f60a3ff0-65fc-4b13-9384-2110347898ba, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 191, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:51.788314+00, f, 39, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_base_calculations.py:341: in test_propagate_discount_with_entire_order_voucher
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:51.787178+00, , , f60a3ff0-65fc-4b13-9384-2110347898ba, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 191, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:51.788314+00, f, 39, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderShipping" name="test_base_order_shipping_returns_base_shipping_price" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:52.576806+00, , , a39a34c0-67f1-48f6-94e2-34b94b7be5d3, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 192, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:52.578696+00, f, 40, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:52.576806+00, , , a39a34c0-67f1-48f6-94e2-34b94b7be5d3, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 192, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:52.578696+00, f, 40, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:63: in test_base_order_shipping_returns_base_shipping_price
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:52.576806+00, , , a39a34c0-67f1-48f6-94e2-34b94b7be5d3, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 192, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:52.578696+00, f, 40, null, 0.000, none, none, null, t, f, 10.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderSubtotal" name="test_base_order_subtotal_empty_lines" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:53.234784+00, , , a51c5cc1-ba7c-4436-ae5b-c7f29b220578, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 193, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:53.235863+00, f, 41, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:53.234784+00, , , a51c5cc1-ba7c-4436-ae5b-c7f29b220578, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 193, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:53.235863+00, f, 41, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:85: in test_base_order_subtotal_empty_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:53.234784+00, , , a51c5cc1-ba7c-4436-ae5b-c7f29b220578, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 193, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:53.235863+00, f, 41, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderSubtotal" name="test_base_order_subtotal_single_line" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:54.004574+00, , , 4fd52a6a-2690-45d7-9b80-875ce851bdaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 194, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.006576+00, f, 42, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:54.004574+00, , , 4fd52a6a-2690-45d7-9b80-875ce851bdaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 194, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.006576+00, f, 42, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:100: in test_base_order_subtotal_single_line
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:54.004574+00, , , 4fd52a6a-2690-45d7-9b80-875ce851bdaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 194, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.006576+00, f, 42, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderSubtotal" name="test_base_order_subtotal_multiple_lines" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:54.899992+00, , , 2ca7c425-681c-4684-bb88-1286277045d7, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 195, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.901436+00, f, 43, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:54.899992+00, , , 2ca7c425-681c-4684-bb88-1286277045d7, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 195, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.901436+00, f, 43, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:120: in test_base_order_subtotal_multiple_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:54.899992+00, , , 2ca7c425-681c-4684-bb88-1286277045d7, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 195, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:54.901436+00, f, 43, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderTotal" name="test_base_order_total_calls_calculate_prices" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:55.626647+00, , , 5ad50145-c204-4e19-b086-cacdd64f5b5e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 196, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:55.627692+00, f, 44, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:55.626647+00, , , 5ad50145-c204-4e19-b086-cacdd64f5b5e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 196, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:55.627692+00, f, 44, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:151: in test_base_order_total_calls_calculate_prices
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:55.626647+00, , , 5ad50145-c204-4e19-b086-cacdd64f5b5e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 196, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:55.627692+00, f, 44, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestBaseOrderLineTotal" name="test_base_order_line_total_calculates_correctly" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:56.356274+00, , , 6d63adbb-72e3-4fa7-849e-adbfeaad0a87, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 197, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:56.357297+00, f, 45, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:56.356274+00, , , 6d63adbb-72e3-4fa7-849e-adbfeaad0a87, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 197, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:56.357297+00, f, 45, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:182: in test_base_order_line_total_calculates_correctly
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:56.356274+00, , , 6d63adbb-72e3-4fa7-849e-adbfeaad0a87, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 197, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:56.357297+00, f, 45, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_no_discounts" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:57.069951+00, , , 54c2a337-50e5-408e-8e74-91e688bb615c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 198, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.070949+00, f, 46, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:57.069951+00, , , 54c2a337-50e5-408e-8e74-91e688bb615c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 198, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.070949+00, f, 46, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:209: in test_propagate_order_discount_no_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:57.069951+00, , , 54c2a337-50e5-408e-8e74-91e688bb615c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 198, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.070949+00, f, 46, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_voucher_order_level" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:57.728826+00, , , 510a0ae6-98df-455f-a78b-aab2929c9d20, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 199, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.729876+00, f, 47, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:57.728826+00, , , 510a0ae6-98df-455f-a78b-aab2929c9d20, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 199, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.729876+00, f, 47, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:231: in test_propagate_order_discount_voucher_order_level
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:57.728826+00, , , 510a0ae6-98df-455f-a78b-aab2929c9d20, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 199, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:57.729876+00, f, 47, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_voucher_shipping" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:58.385898+00, , , 99739094-63d8-413b-a12b-8f1a3d89ee4b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 200, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:58.387256+00, f, 48, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:58.385898+00, , , 99739094-63d8-413b-a12b-8f1a3d89ee4b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 200, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:58.387256+00, f, 48, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:268: in test_propagate_order_discount_voucher_shipping
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:58.385898+00, , , 99739094-63d8-413b-a12b-8f1a3d89ee4b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 200, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:58.387256+00, f, 48, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_order_promotion" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:59.029106+00, , , 9a0b3008-5f61-4fd9-93de-81041fff2a7a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 201, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.030294+00, f, 49, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:59.029106+00, , , 9a0b3008-5f61-4fd9-93de-81041fff2a7a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 201, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.030294+00, f, 49, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:303: in test_propagate_order_discount_order_promotion
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:59.029106+00, , , 9a0b3008-5f61-4fd9-93de-81041fff2a7a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 201, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.030294+00, f, 49, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_manual_percentage" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:13:59.756209+00, , , 0425704e-203f-44a4-b2ce-2968391cabce, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 202, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.75722+00, f, 50, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:59.756209+00, , , 0425704e-203f-44a4-b2ce-2968391cabce, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 202, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.75722+00, f, 50, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:335: in test_propagate_order_discount_manual_percentage
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:13:59.756209+00, , , 0425704e-203f-44a4-b2ce-2968391cabce, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 202, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:13:59.75722+00, f, 50, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_manual_fixed_positive_total" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:00.466822+00, , , d1cb7828-5b05-4683-bd47-40e3375c84af, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 203, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:00.468022+00, f, 51, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:00.466822+00, , , d1cb7828-5b05-4683-bd47-40e3375c84af, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 203, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:00.468022+00, f, 51, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:370: in test_propagate_order_discount_manual_fixed_positive_total
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:00.466822+00, , , d1cb7828-5b05-4683-bd47-40e3375c84af, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 203, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:00.468022+00, f, 51, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_manual_fixed_zero_total" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:01.184861+00, , , e72a9869-f30f-497c-bbb5-4d6758d6ca0f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 204, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.185952+00, f, 52, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:01.184861+00, , , e72a9869-f30f-497c-bbb5-4d6758d6ca0f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 204, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.185952+00, f, 52, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:403: in test_propagate_order_discount_manual_fixed_zero_total
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:01.184861+00, , , e72a9869-f30f-497c-bbb5-4d6758d6ca0f, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 204, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.185952+00, f, 52, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderPrices" name="test_propagate_order_discount_updates_amount" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:01.919271+00, , , ae61822c-f48b-4a66-abbc-0ee9407cf87d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 205, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.920319+00, f, 53, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:01.919271+00, , , ae61822c-f48b-4a66-abbc-0ee9407cf87d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 205, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.920319+00, f, 53, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:435: in test_propagate_order_discount_updates_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:01.919271+00, , , ae61822c-f48b-4a66-abbc-0ee9407cf87d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 205, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:01.920319+00, f, 53, null, 0.000, none, none, null, t, f, 5.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestCalculatePrices" name="test_calculate_prices_with_assign_prices_true" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:02.56778+00, , , 74fd3879-868f-4d45-ab0b-ada0cea82a02, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 206, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:02.568824+00, f, 54, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:02.56778+00, , , 74fd3879-868f-4d45-ab0b-ada0cea82a02, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 206, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:02.568824+00, f, 54, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:478: in test_calculate_prices_with_assign_prices_true
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:02.56778+00, , , 74fd3879-868f-4d45-ab0b-ada0cea82a02, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 206, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:02.568824+00, f, 54, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestCalculatePrices" name="test_calculate_prices_with_assign_prices_false" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:03.217567+00, , , dceaa944-caac-4ede-b588-b85d67d652b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 207, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.218606+00, f, 55, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:03.217567+00, , , dceaa944-caac-4ede-b588-b85d67d652b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 207, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.218606+00, f, 55, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:507: in test_calculate_prices_with_assign_prices_false
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:03.217567+00, , , dceaa944-caac-4ede-b588-b85d67d652b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 207, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.218606+00, f, 55, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestGetTotalPriceWithSubtotalDiscountForOrderLine" name="test_get_total_price_positive_discount" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:03.871687+00, , , 253ad5f9-80eb-4278-9294-63a17f1c2813, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 208, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.872802+00, f, 56, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:03.871687+00, , , 253ad5f9-80eb-4278-9294-63a17f1c2813, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 208, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.872802+00, f, 56, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:537: in test_get_total_price_positive_discount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:03.871687+00, , , 253ad5f9-80eb-4278-9294-63a17f1c2813, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 208, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:03.872802+00, f, 56, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestGetTotalPriceWithSubtotalDiscountForOrderLine" name="test_get_total_price_discount_exceeds_total" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:04.502939+00, , , e6808111-82eb-4c75-b0dd-74c857a05eb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 209, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:04.504014+00, f, 57, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:04.502939+00, , , e6808111-82eb-4c75-b0dd-74c857a05eb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 209, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:04.504014+00, f, 57, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:558: in test_get_total_price_discount_exceeds_total
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:04.502939+00, , , e6808111-82eb-4c75-b0dd-74c857a05eb6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 209, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:04.504014+00, f, 57, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderLinesPrices" name="test_propagate_discount_single_line" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:05.150924+00, , , 8a665c33-4889-4250-93ef-96c0adbe145a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 210, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.152195+00, f, 58, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:05.150924+00, , , 8a665c33-4889-4250-93ef-96c0adbe145a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 210, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.152195+00, f, 58, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:584: in test_propagate_discount_single_line
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:05.150924+00, , , 8a665c33-4889-4250-93ef-96c0adbe145a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 210, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.152195+00, f, 58, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderLinesPrices" name="test_propagate_discount_multiple_lines" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:05.781868+00, , , 9be704c4-8bb8-48c3-803e-b27d950d90a8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 211, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.782909+00, f, 59, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:05.781868+00, , , 9be704c4-8bb8-48c3-803e-b27d950d90a8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 211, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.782909+00, f, 59, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:612: in test_propagate_discount_multiple_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:05.781868+00, , , 9be704c4-8bb8-48c3-803e-b27d950d90a8, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 211, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:05.782909+00, f, 59, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestPropagateOrderDiscountOnOrderLinesPrices" name="test_propagate_discount_zero_base_subtotal" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:06.451861+00, , , b67e5d3c-0a2d-4966-a741-1cfa52945717, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 212, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:06.452867+00, f, 60, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:06.451861+00, , , b67e5d3c-0a2d-4966-a741-1cfa52945717, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 212, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:06.452867+00, f, 60, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:647: in test_propagate_discount_zero_base_subtotal
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:06.451861+00, , , b67e5d3c-0a2d-4966-a741-1cfa52945717, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 212, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:06.452867+00, f, 60, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestGetTotalPriceWithSubtotalDiscountForOrderLineFunction" name="test_get_total_price_finds_line" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:07.123169+00, , , b049ccf2-62de-4443-a087-76c742ec662a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 213, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.124221+00, f, 61, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:07.123169+00, , , b049ccf2-62de-4443-a087-76c742ec662a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 213, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.124221+00, f, 61, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:679: in test_get_total_price_finds_line
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:07.123169+00, , , b049ccf2-62de-4443-a087-76c742ec662a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 213, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.124221+00, f, 61, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestGetTotalPriceWithSubtotalDiscountForOrderLineFunction" name="test_get_total_price_line_not_found" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:07.748997+00, , , 5f8dbf77-2709-400d-9735-a02319177205, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 214, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.750064+00, f, 62, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:07.748997+00, , , 5f8dbf77-2709-400d-9735-a02319177205, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 214, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.750064+00, f, 62, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:705: in test_get_total_price_line_not_found
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:07.748997+00, , , 5f8dbf77-2709-400d-9735-a02319177205, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 214, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:07.750064+00, f, 62, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestApplySubtotalDiscountToOrderLines" name="test_apply_subtotal_discount_calls_assign" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:08.411582+00, , , 030c8432-9c36-4ab5-8339-e9b0c3070010, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 215, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:08.412704+00, f, 63, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:08.411582+00, , , 030c8432-9c36-4ab5-8339-e9b0c3070010, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 215, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:08.412704+00, f, 63, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:743: in test_apply_subtotal_discount_calls_assign
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:08.411582+00, , , 030c8432-9c36-4ab5-8339-e9b0c3070010, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 215, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:08.412704+00, f, 63, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestAssignOrderLinePrices" name="test_assign_order_line_prices_positive_quantity" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:09.036985+00, , , e247fc5d-86c5-4e2d-996a-c1222a2e1d37, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 216, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.038077+00, f, 64, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:09.036985+00, , , e247fc5d-86c5-4e2d-996a-c1222a2e1d37, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 216, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.038077+00, f, 64, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:772: in test_assign_order_line_prices_positive_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:09.036985+00, , , e247fc5d-86c5-4e2d-996a-c1222a2e1d37, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 216, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.038077+00, f, 64, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestAssignOrderLinePrices" name="test_assign_order_line_prices_zero_quantity" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:09.658285+00, , , fa2fb05c-5ebe-434d-8a90-34ba464162d4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 217, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.659287+00, f, 65, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:09.658285+00, , , fa2fb05c-5ebe-434d-8a90-34ba464162d4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 217, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.659287+00, f, 65, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:798: in test_assign_order_line_prices_zero_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:09.658285+00, , , fa2fb05c-5ebe-434d-8a90-34ba464162d4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 217, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:09.659287+00, f, 65, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestAssignOrderPrices" name="test_assign_order_prices_sets_all_fields" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:10.317894+00, , , b20898ef-c93b-423b-9e58-19750c277095, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 218, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:10.318978+00, f, 66, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:10.317894+00, , , b20898ef-c93b-423b-9e58-19750c277095, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 218, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:10.318978+00, f, 66, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:828: in test_assign_order_prices_sets_all_fields
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:10.317894+00, , , b20898ef-c93b-423b-9e58-19750c277095, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 218, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:10.318978+00, f, 66, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestUndiscountedOrderShipping" name="test_undiscounted_order_shipping_with_shipping_method" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;shipping_zone_id&quot; of relation &quot;shipping_shippingmethod&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (8, Standard, null, 0, , null, {}, {}, null, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (8, Standard, null, 0, , null, {}, {}, null, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:861: in test_undiscounted_order_shipping_with_shipping_method
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (8, Standard, null, 0, , null, {}, {}, null, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestUndiscountedOrderShipping" name="test_undiscounted_order_shipping_no_shipping_method" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:11.661116+00, , , 1f367a0d-458b-4b56-ba90-34db7631d14e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 220, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:11.662133+00, f, 67, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:11.661116+00, , , 1f367a0d-458b-4b56-ba90-34db7631d14e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 220, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:11.662133+00, f, 67, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:883: in test_undiscounted_order_shipping_no_shipping_method
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:11.661116+00, , , 1f367a0d-458b-4b56-ba90-34db7631d14e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 220, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:11.662133+00, f, 67, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestUndiscountedOrderShipping" name="test_undiscounted_order_shipping_no_listing" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;shipping_zone_id&quot; of relation &quot;shipping_shippingmethod&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (9, Standard, null, 0, , null, {}, {}, null, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (9, Standard, null, 0, , null, {}, {}, null, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:899: in test_undiscounted_order_shipping_no_listing
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "shipping_zone_id" of relation "shipping_shippingmethod" violates not-null constraint
E   DETAIL:  Failing row contains (9, Standard, null, 0, , null, {}, {}, null, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestUndiscountedOrderSubtotal" name="test_undiscounted_order_subtotal_calculates_correctly" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:12.981857+00, , , cab21b0f-d27f-42aa-9235-b6cda9fae1b6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 222, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:12.982952+00, f, 68, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:12.981857+00, , , cab21b0f-d27f-42aa-9235-b6cda9fae1b6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 222, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:12.982952+00, f, 68, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:921: in test_undiscounted_order_subtotal_calculates_correctly
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:12.981857+00, , , cab21b0f-d27f-42aa-9235-b6cda9fae1b6, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 222, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:12.982952+00, f, 68, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_base_calculations_comprehensive.TestUndiscountedOrderTotal" name="test_undiscounted_order_total_sums_subtotal_and_shipping" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:13.65189+00, , , e8eaa37a-f4b2-4f62-a2b3-7f74f20ab181, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 223, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:13.652987+00, f, 69, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:13.65189+00, , , e8eaa37a-f4b2-4f62-a2b3-7f74f20ab181, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 223, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:13.652987+00, f, 69, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_base_calculations_comprehensive.py:947: in test_undiscounted_order_total_sums_subtotal_and_shipping
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:13.65189+00, , , e8eaa37a-f4b2-4f62-a2b3-7f74f20ab181, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 223, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:13.652987+00, f, 69, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredStatementCoverage" name="test_order_status_not_editable" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:14.417191+00, , , 3bbe8274-9692-4f51-95df-5cb675ab7432, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 224, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:14.418597+00, f, 70, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:14.417191+00, , , 3bbe8274-9692-4f51-95df-5cb675ab7432, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 224, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:14.418597+00, f, 70, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:36: in test_order_status_not_editable
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:14.417191+00, , , 3bbe8274-9692-4f51-95df-5cb675ab7432, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 224, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:14.418597+00, f, 70, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredStatementCoverage" name="test_no_force_update_no_refresh_no_expired" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:15.18694+00, , , 8ed92b9c-6fbd-40fd-a79d-7372ef42e645, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 225, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.188034+00, f, 71, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:15.18694+00, , , 8ed92b9c-6fbd-40fd-a79d-7372ef42e645, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 225, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.188034+00, f, 71, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:58: in test_no_force_update_no_refresh_no_expired
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:15.18694+00, , , 8ed92b9c-6fbd-40fd-a79d-7372ef42e645, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 225, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.188034+00, f, 71, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredStatementCoverage" name="test_tax_strategy_tax_app_no_sync_webhooks" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:15.948989+00, , , e4a58301-5cae-47ed-89c8-543c189651b0, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 226, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.950186+00, f, 72, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:15.948989+00, , , e4a58301-5cae-47ed-89c8-543c189651b0, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 226, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.950186+00, f, 72, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:81: in test_tax_strategy_tax_app_no_sync_webhooks
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:15.948989+00, , , e4a58301-5cae-47ed-89c8-543c189651b0, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 226, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:15.950186+00, f, 72, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredStatementCoverage" name="test_expired_line_ids_exists" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:16.652706+00, , , 80a48a85-9b64-4e94-b682-e448e8e6089a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 227, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:16.653769+00, f, 73, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:16.652706+00, , , 80a48a85-9b64-4e94-b682-e448e8e6089a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 227, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:16.653769+00, f, 73, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:106: in test_expired_line_ids_exists
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:16.652706+00, , , 80a48a85-9b64-4e94-b682-e448e8e6089a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 227, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:16.653769+00, f, 73, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredStatementCoverage" name="test_no_expired_line_ids" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:17.34458+00, , , adffce94-6e8d-4a8b-b04e-b80464f7192b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 228, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:17.345687+00, f, 74, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:17.34458+00, , , adffce94-6e8d-4a8b-b04e-b80464f7192b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 228, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:17.345687+00, f, 74, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:138: in test_no_expired_line_ids
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:17.34458+00, , , adffce94-6e8d-4a8b-b04e-b80464f7192b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 228, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:17.345687+00, f, 74, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_order_status_editable_true" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:18.028786+00, , , d5f7a8c1-7e6b-4f3c-a480-2fcd30bff22c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 229, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.029947+00, f, 75, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:18.028786+00, , , d5f7a8c1-7e6b-4f3c-a480-2fcd30bff22c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 229, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.029947+00, f, 75, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:177: in test_decision_order_status_editable_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:18.028786+00, , , d5f7a8c1-7e6b-4f3c-a480-2fcd30bff22c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 229, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.029947+00, f, 75, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_order_status_editable_false" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:18.724266+00, , , 94967242-c683-4688-ba25-905196521b66, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, canceled, null, null, t, , 0, , USD, {}, {}, 230, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.725305+00, f, 76, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:18.724266+00, , , 94967242-c683-4688-ba25-905196521b66, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, canceled, null, null, t, , 0, , USD, {}, {}, 230, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.725305+00, f, 76, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:205: in test_decision_order_status_editable_false
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:18.724266+00, , , 94967242-c683-4688-ba25-905196521b66, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, canceled, null, null, t, , 0, , USD, {}, {}, 230, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:18.725305+00, f, 76, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_force_update_true" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:19.438221+00, , , ab36b351-c3e3-4249-b16f-022751d27a41, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 231, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:19.439323+00, f, 77, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:19.438221+00, , , ab36b351-c3e3-4249-b16f-022751d27a41, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 231, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:19.439323+00, f, 77, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:228: in test_decision_force_update_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:19.438221+00, , , ab36b351-c3e3-4249-b16f-022751d27a41, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 231, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:19.439323+00, f, 77, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_force_update_false_should_refresh_true" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:20.113262+00, , , 48384f64-d363-4f6a-81a8-fe623a5dcfbf, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 232, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.114348+00, f, 78, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:20.113262+00, , , 48384f64-d363-4f6a-81a8-fe623a5dcfbf, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 232, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.114348+00, f, 78, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:257: in test_decision_force_update_false_should_refresh_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:20.113262+00, , , 48384f64-d363-4f6a-81a8-fe623a5dcfbf, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 232, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.114348+00, f, 78, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_expired_line_ids_exists_true" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:20.777537+00, , , 25eb2839-b4bd-4236-9e3e-8b0b8cc2816b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 233, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.77859+00, f, 79, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:20.777537+00, , , 25eb2839-b4bd-4236-9e3e-8b0b8cc2816b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 233, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.77859+00, f, 79, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:286: in test_decision_expired_line_ids_exists_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:20.777537+00, , , 25eb2839-b4bd-4236-9e3e-8b0b8cc2816b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 233, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:20.77859+00, f, 79, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredDecisionCoverage" name="test_decision_expired_line_ids_exists_false" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:21.554704+00, , , 59bb8787-1a37-4e9c-a75b-f265a19e6128, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 234, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:21.555719+00, f, 80, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:21.554704+00, , , 59bb8787-1a37-4e9c-a75b-f265a19e6128, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 234, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:21.555719+00, f, 80, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:317: in test_decision_expired_line_ids_exists_false
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:21.554704+00, , , 59bb8787-1a37-4e9c-a75b-f265a19e6128, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 234, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:21.555719+00, f, 80, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredMCDC" name="test_mcdc_condition_force_update_true" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:22.221667+00, , , 687206d2-122a-440f-b3e9-7aa7130c3e6d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 235, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.222913+00, f, 81, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:22.221667+00, , , 687206d2-122a-440f-b3e9-7aa7130c3e6d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 235, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.222913+00, f, 81, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:355: in test_mcdc_condition_force_update_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:22.221667+00, , , 687206d2-122a-440f-b3e9-7aa7130c3e6d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 235, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.222913+00, f, 81, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredMCDC" name="test_mcdc_condition_should_refresh_true" time="0.016"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:22.932559+00, , , b329612d-2803-42f4-8e02-dfc869848309, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 236, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.933763+00, f, 82, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:22.932559+00, , , b329612d-2803-42f4-8e02-dfc869848309, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 236, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.933763+00, f, 82, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:384: in test_mcdc_condition_should_refresh_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:22.932559+00, , , b329612d-2803-42f4-8e02-dfc869848309, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 236, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:22.933763+00, f, 82, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredMCDC" name="test_mcdc_condition_expired_line_ids_true" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:23.657449+00, , , c3d2756e-54e7-4847-ba68-706ca6161b0d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 237, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:23.658744+00, f, 83, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:23.657449+00, , , c3d2756e-54e7-4847-ba68-706ca6161b0d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 237, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:23.658744+00, f, 83, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:413: in test_mcdc_condition_expired_line_ids_true
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:23.657449+00, , , c3d2756e-54e7-4847-ba68-706ca6161b0d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 237, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:23.658744+00, f, 83, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations.TestFetchOrderPricesIfExpiredMCDC" name="test_mcdc_condition_all_false" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:24.338292+00, , , 22bb87f5-1fe3-4d40-a2b4-38e3d5aa2551, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 238, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:24.339535+00, f, 84, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:24.338292+00, , , 22bb87f5-1fe3-4d40-a2b4-38e3d5aa2551, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 238, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:24.339535+00, f, 84, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_order_calculations.py:444: in test_mcdc_condition_all_false
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:24.338292+00, , , 22bb87f5-1fe3-4d40-a2b4-38e3d5aa2551, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 238, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:24.339535+00, f, 84, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestGetExpiredLineIds" name="test_get_expired_line_ids_returns_empty_for_non_draft" time="0.009"><failure message="AttributeError: type object 'OrderStatus' has no attribute 'CONFIRMED'. Did you mean: 'UNCONFIRMED'?">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:59: in test_get_expired_line_ids_returns_empty_for_non_draft
    ???
E   AttributeError: type object 'OrderStatus' has no attribute 'CONFIRMED'. Did you mean: 'UNCONFIRMED'?</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestGetExpiredLineIds" name="test_get_expired_line_ids_returns_expired_lines" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, dfd688f7-3d98-43e3-82be-c03c307fb162, b24abd62-c55b-408e-8a88-8c45cfe44275, null, 2025-12-08 11:14:25.040674+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.039882+00, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, dfd688f7-3d98-43e3-82be-c03c307fb162, b24abd62-c55b-408e-8a88-8c45cfe44275, null, 2025-12-08 11:14:25.040674+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.039882+00, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:83: in test_get_expired_line_ids_returns_expired_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, dfd688f7-3d98-43e3-82be-c03c307fb162, b24abd62-c55b-408e-8a88-8c45cfe44275, null, 2025-12-08 11:14:25.040674+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.039882+00, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestGetExpiredLineIds" name="test_get_expired_line_ids_uses_provided_lines" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, a31dbe75-7238-4886-b041-cb57320463fd, 15fff6fb-a175-4f1c-a232-e20901599960, null, 2025-12-08 11:14:25.716748+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.715943+00, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, a31dbe75-7238-4886-b041-cb57320463fd, 15fff6fb-a175-4f1c-a232-e20901599960, null, 2025-12-08 11:14:25.716748+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.715943+00, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:126: in test_get_expired_line_ids_uses_provided_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product 1, SKU1, 1, 10.000, 10.000, null, 0, null, null, , USD, , Variant 1, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, a31dbe75-7238-4886-b041-cb57320463fd, 15fff6fb-a175-4f1c-a232-e20901599960, null, 2025-12-08 11:14:25.716748+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, 2025-12-07 11:14:25.715943+00, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestFetchOrderPricesIfExpired" name="test_fetch_order_prices_returns_early_for_non_editable_status" time="0.014" /><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestFetchOrderPricesIfExpired" name="test_fetch_order_prices_returns_early_when_not_expired" time="0.017" /><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestFetchOrderPricesIfExpired" name="test_fetch_order_prices_refreshes_when_force_update" time="0.019"><failure message="saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:214: in test_fetch_order_prices_refreshes_when_force_update
    ???
saleor/order/calculations.py:82: in fetch_order_prices_if_expired
    tax_strategy = get_tax_calculation_strategy_for_order(order)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/tax/utils.py:140: in get_tax_calculation_strategy_for_order
    tax_configuration, country_tax_configuration = _get_tax_configuration_for_order(
saleor/tax/utils.py:113: in _get_tax_configuration_for_order
    tax_configuration = channel.tax_configuration
                        ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:534: in __get__
    raise self.RelatedObjectDoesNotExist(
E   saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestCalculateTaxes" name="test_calculate_taxes_with_prices_entered_with_tax" time="0.010"><failure message="saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:232: in test_calculate_taxes_with_prices_entered_with_tax
    ???
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:534: in __get__
    raise self.RelatedObjectDoesNotExist(
E   saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestCalculateTaxes" name="test_calculate_taxes_removes_tax_when_exempt" time="0.010"><failure message="saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:260: in test_calculate_taxes_removes_tax_when_exempt
    ???
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:534: in __get__
    raise self.RelatedObjectDoesNotExist(
E   saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestCalculateTaxes" name="test_calculate_taxes_with_prices_without_tax" time="0.010"><failure message="saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:287: in test_calculate_taxes_with_prices_without_tax
    ???
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:534: in __get__
    raise self.RelatedObjectDoesNotExist(
E   saleor.channel.models.Channel.tax_configuration.RelatedObjectDoesNotExist: Channel has no tax_configuration.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestRemoveTax" name="test_remove_tax_calls_remove_tax_gross_when_prices_with_tax" time="0.013"><failure message="AssertionError: Expected '_remove_tax_gross' to have been called once. Called 0 times.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:331: in test_remove_tax_calls_remove_tax_gross_when_prices_with_tax
    ???
/usr/lib/python3.12/unittest/mock.py:923: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected '_remove_tax_gross' to have been called once. Called 0 times.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestRemoveTax" name="test_remove_tax_calls_remove_tax_net_when_prices_without_tax" time="0.013"><failure message="AssertionError: Expected '_remove_tax_net' to have been called once. Called 0 times.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:350: in test_remove_tax_calls_remove_tax_net_when_prices_without_tax
    ???
/usr/lib/python3.12/unittest/mock.py:923: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected '_remove_tax_net' to have been called once. Called 0 times.</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderLineUnit" name="test_order_line_unit_returns_unit_price" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;is_shipping_required&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 9c987e69-3eab-4da6-a932-6d7a62f4495d, 308a0154-2795-4e3d-885e-8ab636f36c5b, null, 2025-12-08 11:14:27.24505+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 9c987e69-3eab-4da6-a932-6d7a62f4495d, 308a0154-2795-4e3d-885e-8ab636f36c5b, null, 2025-12-08 11:14:27.24505+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:370: in test_order_line_unit_returns_unit_price
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "is_shipping_required" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, 10.000, 12.000, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 9c987e69-3eab-4da6-a932-6d7a62f4495d, 308a0154-2795-4e3d-885e-8ab636f36c5b, null, 2025-12-08 11:14:27.24505+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderLineTotal" name="test_order_line_total_returns_total_price" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;unit_price_net_amount&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 2, null, null, null, 0, null, null, , USD, , Variant, 24.000, 20.000, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 65c0829b-a562-4753-81ca-8bfa4d0bc307, e0541bb1-b2bb-4525-bad1-810641166388, null, 2025-12-08 11:14:27.904653+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, null, null, null, 0, null, null, , USD, , Variant, 24.000, 20.000, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 65c0829b-a562-4753-81ca-8bfa4d0bc307, e0541bb1-b2bb-4525-bad1-810641166388, null, 2025-12-08 11:14:27.904653+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:404: in test_order_line_total_returns_total_price
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 2, null, null, null, 0, null, null, , USD, , Variant, 24.000, 20.000, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 65c0829b-a562-4753-81ca-8bfa4d0bc307, e0541bb1-b2bb-4525-bad1-810641166388, null, 2025-12-08 11:14:27.904653+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderLineTaxRate" name="test_order_line_tax_rate_returns_tax_rate" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;unit_price_net_amount&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, 0.2000, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 5e9ea1be-a8f9-43f6-b011-051940b69e7d, 42e63b76-7016-45fb-ac35-69e7899cda40, null, 2025-12-08 11:14:28.606216+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, 0.2000, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 5e9ea1be-a8f9-43f6-b011-051940b69e7d, 42e63b76-7016-45fb-ac35-69e7899cda40, null, 2025-12-08 11:14:28.606216+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:438: in test_order_line_tax_rate_returns_tax_rate
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, 0.2000, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 5e9ea1be-a8f9-43f6-b011-051940b69e7d, 42e63b76-7016-45fb-ac35-69e7899cda40, null, 2025-12-08 11:14:28.606216+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderLineTaxRate" name="test_order_line_tax_rate_returns_zero_when_none" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;unit_price_net_amount&quot; of relation &quot;order_orderline&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89d823e6-af9a-424b-82bd-50a7a0fd2fd3, 55cda41f-2d91-47a9-8c88-039b62529d9c, null, 2025-12-08 11:14:29.272516+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89d823e6-af9a-424b-82bd-50a7a0fd2fd3, 55cda41f-2d91-47a9-8c88-039b62529d9c, null, 2025-12-08 11:14:29.272516+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:465: in test_order_line_tax_rate_returns_zero_when_none
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "unit_price_net_amount" of relation "order_orderline" violates not-null constraint
E   DETAIL:  Failing row contains (Product, SKU, 1, null, null, null, 0, null, null, , USD, , Variant, null, null, 0.000, 0.000, null, null, 0.000, 0.000, 0.000, 0.000, null, null, null, null, 89d823e6-af9a-424b-82bd-50a7a0fd2fd3, 55cda41f-2d91-47a9-8c88-039b62529d9c, null, 2025-12-08 11:14:29.272516+00, 0.000, 0.000, {}, {}, null, {}, null, {}, f, null, null, null).</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderSubtotal" name="test_order_subtotal_returns_subtotal_from_order" time="0.012"><failure message="TypeError: order_subtotal() missing 1 required positional argument: 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:500: in test_order_subtotal_returns_subtotal_from_order
    ???
E   TypeError: order_subtotal() missing 1 required positional argument: 'manager'</failure></testcase><testcase classname="tests.whitebox.test_order_calculations_comprehensive.TestOrderTotal" name="test_order_total_returns_total_from_order" time="0.012"><failure message="TypeError: order_total() missing 1 required positional argument: 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_calculations_comprehensive.py:526: in test_order_total_returns_total_from_order
    ???
E   TypeError: order_total() missing 1 required positional argument: 'manager'</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestGetOrderCountry" name="test_get_order_country_uses_shipping_address" time="0.015"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:29.936934+00, , , 4f40b738-6f89-4cd1-8adc-e32f2e9cc48c, null, 6, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 256, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:29.938198+00, f, 98, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:29.936934+00, , , 4f40b738-6f89-4cd1-8adc-e32f2e9cc48c, null, 6, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 256, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:29.938198+00, f, 98, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:72: in test_get_order_country_uses_shipping_address
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:29.936934+00, , , 4f40b738-6f89-4cd1-8adc-e32f2e9cc48c, null, 6, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 256, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:29.938198+00, f, 98, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderLineNeedsAutomaticFulfillment" name="test_order_line_needs_automatic_fulfillment_no_digital_content" time="0.009"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:96: in test_order_line_needs_automatic_fulfillment_no_digital_content
    ???
saleor/order/utils.py:101: in order_line_needs_automatic_fulfillment
    digital_content_settings = get_default_digital_content_settings()
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/product/utils/digital_products.py:12: in get_default_digital_content_settings
    site = Site.objects.get_current()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/site/patch_sites.py:29: in new_get_current
    self.prefetch_related("settings")
.venv/lib/python3.12/site-packages/django/db/models/query.py:437: in __getitem__
    qs._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderLineNeedsAutomaticFulfillment" name="test_order_line_needs_automatic_fulfillment_default_settings_true" time="0.008" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderLineNeedsAutomaticFulfillment" name="test_order_line_needs_automatic_fulfillment_default_settings_false" time="0.007" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderLineNeedsAutomaticFulfillment" name="test_order_line_needs_automatic_fulfillment_content_automatic_true" time="0.007" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderNeedsAutomaticFulfillment" name="test_order_needs_automatic_fulfillment_no_digital_lines" time="0.007" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestOrderNeedsAutomaticFulfillment" name="test_order_needs_automatic_fulfillment_digital_line_needs_fulfillment" time="0.007" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestInvalidateOrderPrices" name="test_invalidate_order_prices_editable_status" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:31.131818+00, , , daab9768-1174-40ea-984f-50fe6e7d9349, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 257, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.132858+00, f, 99, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:31.131818+00, , , daab9768-1174-40ea-984f-50fe6e7d9349, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 257, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.132858+00, f, 99, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:179: in test_invalidate_order_prices_editable_status
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:31.131818+00, , , daab9768-1174-40ea-984f-50fe6e7d9349, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 257, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.132858+00, f, 99, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestInvalidateOrderPrices" name="test_invalidate_order_prices_non_editable_status" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:31.800032+00, , , 99052f81-8b94-45c6-90cc-f46fdd135d22, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 258, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.801067+00, f, 100, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:31.800032+00, , , 99052f81-8b94-45c6-90cc-f46fdd135d22, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 258, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.801067+00, f, 100, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:195: in test_invalidate_order_prices_non_editable_status
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:31.800032+00, , , 99052f81-8b94-45c6-90cc-f46fdd135d22, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, fulfilled, null, null, t, , 0, , USD, {}, {}, 258, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:31.801067+00, f, 100, null, 0.000, none, none, null, f, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestInvalidateOrderPrices" name="test_invalidate_order_prices_with_save" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:32.628447+00, , , 201766b0-4212-4321-9d45-9b15e022d9b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 259, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:32.629433+00, f, 101, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:32.628447+00, , , 201766b0-4212-4321-9d45-9b15e022d9b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 259, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:32.629433+00, f, 101, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:213: in test_invalidate_order_prices_with_save
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:32.628447+00, , , 201766b0-4212-4321-9d45-9b15e022d9b1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, draft, null, null, t, , 0, , USD, {}, {}, 259, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:32.629433+00, f, 101, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestRecalculateOrderWeight" name="test_recalculate_order_weight_sums_line_weights" time="0.018"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:33.330603+00, , , a90c3f9c-d455-41d0-b78e-a3edc4965955, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 260, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:33.332446+00, f, 102, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:33.330603+00, , , a90c3f9c-d455-41d0-b78e-a3edc4965955, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 260, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:33.332446+00, f, 102, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:235: in test_recalculate_order_weight_sums_line_weights
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:33.330603+00, , , a90c3f9c-d455-41d0-b78e-a3edc4965955, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 260, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:33.332446+00, f, 102, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_unfulfilled" time="0.007" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_unfulfilled_with_awaiting" time="0.006" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_partially_returned" time="0.006" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_returned" time="0.006" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_partially_fulfilled" time="0.006" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestDetermineOrderStatus" name="test_determine_order_status_fulfilled" time="0.006" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestRefreshOrderStatus" name="test_refresh_order_status_all_products_replaced" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:34.102304+00, , , cc525037-6da8-4b65-ba9e-a465b8eb9852, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 261, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.103336+00, f, 103, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:34.102304+00, , , cc525037-6da8-4b65-ba9e-a465b8eb9852, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 261, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.103336+00, f, 103, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:347: in test_refresh_order_status_all_products_replaced
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:34.102304+00, , , cc525037-6da8-4b65-ba9e-a465b8eb9852, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 261, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.103336+00, f, 103, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestRefreshOrderStatus" name="test_refresh_order_status_status_changes" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:34.77456+00, , , de5042d9-392a-48b9-bc23-63fe5f80d6f2, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 262, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.775603+00, f, 104, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:34.77456+00, , , de5042d9-392a-48b9-bc23-63fe5f80d6f2, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 262, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.775603+00, f, 104, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:378: in test_refresh_order_status_status_changes
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:34.77456+00, , , de5042d9-392a-48b9-bc23-63fe5f80d6f2, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 262, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:34.775603+00, f, 104, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderStatus" name="test_update_order_status_with_transaction" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:35.434442+00, , , efe657b2-b17d-4b1e-9b87-5fcf628eca38, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 263, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:35.435505+00, f, 105, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:35.434442+00, , , efe657b2-b17d-4b1e-9b87-5fcf628eca38, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 263, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:35.435505+00, f, 105, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:407: in test_update_order_status_with_transaction
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:35.434442+00, , , efe657b2-b17d-4b1e-9b87-5fcf628eca38, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 263, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:35.435505+00, f, 105, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestGetTotalOrderDiscount" name="test_get_total_order_discount_sums_all_discounts" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:36.124929+00, , , e5d282ad-6897-448a-adb5-6204bf426340, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 264, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.126015+00, f, 106, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:36.124929+00, , , e5d282ad-6897-448a-adb5-6204bf426340, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 264, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.126015+00, f, 106, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:433: in test_get_total_order_discount_sums_all_discounts
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:36.124929+00, , , e5d282ad-6897-448a-adb5-6204bf426340, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 264, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.126015+00, f, 106, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestGetTotalOrderDiscount" name="test_get_total_order_discount_caps_at_undiscounted_total" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:36.774173+00, , , 7d39197f-ad15-4db1-b343-1db0e35613ed, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 265, null, null, 10.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.775247+00, f, 107, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:36.774173+00, , , 7d39197f-ad15-4db1-b343-1db0e35613ed, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 265, null, null, 10.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.775247+00, f, 107, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:466: in test_get_total_order_discount_caps_at_undiscounted_total
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:36.774173+00, , , 7d39197f-ad15-4db1-b343-1db0e35613ed, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 265, null, null, 10.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:36.775247+00, f, 107, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestGetTotalOrderDiscountExcludingShipping" name="test_get_total_order_discount_excluding_shipping_no_shipping_voucher" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:37.476369+00, , , 58c07f32-4ac3-49ff-a58e-84a187da39a1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 266, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:37.477555+00, f, 108, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:37.476369+00, , , 58c07f32-4ac3-49ff-a58e-84a187da39a1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 266, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:37.477555+00, f, 108, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:496: in test_get_total_order_discount_excluding_shipping_no_shipping_voucher
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:37.476369+00, , , 58c07f32-4ac3-49ff-a58e-84a187da39a1, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 266, null, null, 100.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:37.477555+00, f, 108, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestGetTotalOrderDiscountExcludingShipping" name="test_get_total_order_discount_excluding_shipping_with_shipping_voucher" time="0.009"><failure message="ValueError: Cannot assign &quot;&lt;Mock id='127929254458240'&gt;&quot;: &quot;Order.voucher&quot; must be a &quot;Voucher&quot; instance.">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:524: in test_get_total_order_discount_excluding_shipping_with_shipping_voucher
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:545: in __init__
    _setattr(self, field.name, rel_obj)
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:291: in __set__
    raise ValueError(
E   ValueError: Cannot assign "&lt;Mock id='127929254458240'&gt;": "Order.voucher" must be a "Voucher" instance.</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderChargeStatus" name="test_update_order_charge_status_full" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:38.540995+00, , , 02a65d72-63e7-4114-8616-2cbfbe415b10, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 268, null, null, 0.000, 0.000, 100.000, , null, null, , 2025-12-08 11:14:38.542547+00, f, 110, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:38.540995+00, , , 02a65d72-63e7-4114-8616-2cbfbe415b10, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 268, null, null, 0.000, 0.000, 100.000, , null, null, , 2025-12-08 11:14:38.542547+00, f, 110, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:563: in test_update_order_charge_status_full
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:38.540995+00, , , 02a65d72-63e7-4114-8616-2cbfbe415b10, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 268, null, null, 0.000, 0.000, 100.000, , null, null, , 2025-12-08 11:14:38.542547+00, f, 110, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderChargeStatus" name="test_update_order_charge_status_none" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:39.223289+00, , , 51bfdf8a-b606-4ec5-be05-438371dbfbef, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 269, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:39.224404+00, f, 111, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:39.223289+00, , , 51bfdf8a-b606-4ec5-be05-438371dbfbef, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 269, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:39.224404+00, f, 111, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:580: in test_update_order_charge_status_none
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:39.223289+00, , , 51bfdf8a-b606-4ec5-be05-438371dbfbef, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 269, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:39.224404+00, f, 111, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderChargeStatus" name="test_update_order_charge_status_partial" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:39.914667+00, , , 72707786-c352-4555-aa6b-3b033fdbc1ed, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 270, null, null, 0.000, 0.000, 50.000, , null, null, , 2025-12-08 11:14:39.915747+00, f, 112, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:39.914667+00, , , 72707786-c352-4555-aa6b-3b033fdbc1ed, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 270, null, null, 0.000, 0.000, 50.000, , null, null, , 2025-12-08 11:14:39.915747+00, f, 112, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:597: in test_update_order_charge_status_partial
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:39.914667+00, , , 72707786-c352-4555-aa6b-3b033fdbc1ed, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 270, null, null, 0.000, 0.000, 50.000, , null, null, , 2025-12-08 11:14:39.915747+00, f, 112, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderChargeStatus" name="test_update_order_charge_status_overcharged" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:40.594349+00, , , 86901658-8370-48ae-9141-e08fcb2ae2a7, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 271, null, null, 0.000, 0.000, 150.000, , null, null, , 2025-12-08 11:14:40.595473+00, f, 113, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:40.594349+00, , , 86901658-8370-48ae-9141-e08fcb2ae2a7, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 271, null, null, 0.000, 0.000, 150.000, , null, null, , 2025-12-08 11:14:40.595473+00, f, 113, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:614: in test_update_order_charge_status_overcharged
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:40.594349+00, , , 86901658-8370-48ae-9141-e08fcb2ae2a7, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 271, null, null, 0.000, 0.000, 150.000, , null, null, , 2025-12-08 11:14:40.595473+00, f, 113, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderChargeStatus" name="test_update_order_charge_status_with_granted_refund" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:41.27446+00, , , 0839107e-1061-4eff-b798-320bba8ec565, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 272, null, null, 0.000, 0.000, 80.000, , null, null, , 2025-12-08 11:14:41.275603+00, f, 114, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:41.27446+00, , , 0839107e-1061-4eff-b798-320bba8ec565, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 272, null, null, 0.000, 0.000, 80.000, , null, null, , 2025-12-08 11:14:41.275603+00, f, 114, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:631: in test_update_order_charge_status_with_granted_refund
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:41.27446+00, , , 0839107e-1061-4eff-b798-320bba8ec565, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 272, null, null, 0.000, 0.000, 80.000, , null, null, , 2025-12-08 11:14:41.275603+00, f, 114, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderAuthorizeStatus" name="test_update_order_authorize_status_full_zero_total" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:41.971859+00, , , 5322ea97-8e01-46c0-81e8-fab71eddb98b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 273, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:41.973091+00, f, 115, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:41.971859+00, , , 5322ea97-8e01-46c0-81e8-fab71eddb98b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 273, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:41.973091+00, f, 115, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:654: in test_update_order_authorize_status_full_zero_total
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:41.971859+00, , , 5322ea97-8e01-46c0-81e8-fab71eddb98b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 273, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:41.973091+00, f, 115, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderAuthorizeStatus" name="test_update_order_authorize_status_none" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:42.779924+00, , , 930aaa6f-2f9e-496a-b1f5-23f5527539db, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 274, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:42.781087+00, f, 116, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:42.779924+00, , , 930aaa6f-2f9e-496a-b1f5-23f5527539db, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 274, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:42.781087+00, f, 116, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:672: in test_update_order_authorize_status_none
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:42.779924+00, , , 930aaa6f-2f9e-496a-b1f5-23f5527539db, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 274, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:42.781087+00, f, 116, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderAuthorizeStatus" name="test_update_order_authorize_status_full_covered" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:43.555712+00, , , 4103ec68-085e-47a7-a0e5-8bb523fb7b04, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 275, null, null, 0.000, 0.000, 40.000, , null, null, , 2025-12-08 11:14:43.556728+00, f, 117, null, 60.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:43.555712+00, , , 4103ec68-085e-47a7-a0e5-8bb523fb7b04, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 275, null, null, 0.000, 0.000, 40.000, , null, null, , 2025-12-08 11:14:43.556728+00, f, 117, null, 60.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:690: in test_update_order_authorize_status_full_covered
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:43.555712+00, , , 4103ec68-085e-47a7-a0e5-8bb523fb7b04, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 275, null, null, 0.000, 0.000, 40.000, , null, null, , 2025-12-08 11:14:43.556728+00, f, 117, null, 60.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestUpdateOrderAuthorizeStatus" name="test_update_order_authorize_status_partial" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:44.274109+00, , , cb958259-a652-4ab0-be84-f5e35fff3917, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 276, null, null, 0.000, 0.000, 20.000, , null, null, , 2025-12-08 11:14:44.275184+00, f, 118, null, 30.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:44.274109+00, , , cb958259-a652-4ab0-be84-f5e35fff3917, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 276, null, null, 0.000, 0.000, 20.000, , null, null, , 2025-12-08 11:14:44.275184+00, f, 118, null, 30.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_order_utils_comprehensive.py:709: in test_update_order_authorize_status_partial
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:44.274109+00, , , cb958259-a652-4ab0-be84-f5e35fff3917, null, null, null, 0.000, null, en, 0.000, 100.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 276, null, null, 0.000, 0.000, 20.000, , null, null, , 2025-12-08 11:14:44.275184+00, f, 118, null, 30.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestCalculateDraftOrderLinePriceExpirationDate" name="test_calculate_draft_order_line_price_expiration_date_not_draft" time="0.014" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestCalculateDraftOrderLinePriceExpirationDate" name="test_calculate_draft_order_line_price_expiration_date_draft_no_freeze_period" time="0.013" /><testcase classname="tests.whitebox.test_order_utils_comprehensive.TestCalculateDraftOrderLinePriceExpirationDate" name="test_calculate_draft_order_line_price_expiration_date_draft_with_freeze_period" time="0.017" /><testcase classname="tests.whitebox.test_payment_utils.TestPaymentModel" name="test_payment_creation" time="0.018"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:45.102932+00, , , ca18082d-88ba-473f-88ca-f0602b2e6b11, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 280, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.104757+00, f, 119, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:45.102932+00, , , ca18082d-88ba-473f-88ca-f0602b2e6b11, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 280, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.104757+00, f, 119, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:33: in test_payment_creation
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:45.102932+00, , , ca18082d-88ba-473f-88ca-f0602b2e6b11, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 280, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.104757+00, f, 119, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestPaymentModel" name="test_payment_captured_amount" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:45.906532+00, , , 6d30a020-a8e3-4a13-91dc-7c4598d9749b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 281, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.90773+00, f, 120, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:45.906532+00, , , 6d30a020-a8e3-4a13-91dc-7c4598d9749b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 281, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.90773+00, f, 120, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:59: in test_payment_captured_amount
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:45.906532+00, , , 6d30a020-a8e3-4a13-91dc-7c4598d9749b, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 281, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:45.90773+00, f, 120, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestPaymentModel" name="test_payment_get_authorized" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:46.639862+00, , , 8ec8f5d6-a05b-42c2-85ac-da3f15b3feaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 282, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:46.640907+00, f, 121, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:46.639862+00, , , 8ec8f5d6-a05b-42c2-85ac-da3f15b3feaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 282, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:46.640907+00, f, 121, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:83: in test_payment_get_authorized
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:46.639862+00, , , 8ec8f5d6-a05b-42c2-85ac-da3f15b3feaa, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 282, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:46.640907+00, f, 121, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestTransactionModel" name="test_transaction_creation" time="0.013"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:47.380251+00, , , b98227e1-0065-4847-978e-27dd245a193e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 283, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:47.381876+00, f, 122, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:47.380251+00, , , b98227e1-0065-4847-978e-27dd245a193e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 283, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:47.381876+00, f, 122, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:123: in test_transaction_creation
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:47.380251+00, , , b98227e1-0065-4847-978e-27dd245a193e, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 283, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:47.381876+00, f, 122, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestTransactionModel" name="test_transaction_failed" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:48.098028+00, , , 5354fb7c-15f6-4fa8-a94c-de3553b5a642, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 284, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.099208+00, f, 123, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:48.098028+00, , , 5354fb7c-15f6-4fa8-a94c-de3553b5a642, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 284, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.099208+00, f, 123, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:155: in test_transaction_failed
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:48.098028+00, , , 5354fb7c-15f6-4fa8-a94c-de3553b5a642, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 284, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.099208+00, f, 123, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestTransactionItemModel" name="test_transaction_item_creation" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:48.76651+00, , , 569174b2-ff0a-40fb-b605-79a82395ab2d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 285, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.767653+00, f, 124, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:48.76651+00, , , 569174b2-ff0a-40fb-b605-79a82395ab2d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 285, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.767653+00, f, 124, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:195: in test_transaction_item_creation
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:48.76651+00, , , 569174b2-ff0a-40fb-b605-79a82395ab2d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 285, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:48.767653+00, f, 124, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestTransactionItemModel" name="test_transaction_item_authorized_amount" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:49.460684+00, , , dc70286c-d530-4de8-9ebb-8081c0c997e4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 286, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:49.461803+00, f, 125, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:49.460684+00, , , dc70286c-d530-4de8-9ebb-8081c0c997e4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 286, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:49.461803+00, f, 125, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:219: in test_transaction_item_authorized_amount
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:49.460684+00, , , dc70286c-d530-4de8-9ebb-8081c0c997e4, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 286, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:49.461803+00, f, 125, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils.TestTransactionItemModel" name="test_transaction_item_charged_amount" time="0.012"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:14:50.336576+00, , , c806a55b-80ac-4f0e-b1fa-46fccedac52c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 287, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:50.337614+00, f, 126, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:50.336576+00, , , c806a55b-80ac-4f0e-b1fa-46fccedac52c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 287, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:50.337614+00, f, 126, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
tests/whitebox/test_payment_utils.py:242: in test_transaction_item_charged_amount
    order = Order.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:14:50.336576+00, , , c806a55b-80ac-4f0e-b1fa-46fccedac52c, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 287, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:14:50.337614+00, f, 126, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePaymentLinesInformation" name="test_create_payment_lines_information_empty_lines" time="0.009"><failure message="TypeError: create_payment_lines_information() missing 1 required positional argument: 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:41: in test_create_payment_lines_information_empty_lines
    ???
E   TypeError: create_payment_lines_information() missing 1 required positional argument: 'manager'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePaymentLinesInformation" name="test_create_payment_lines_information_with_lines" time="0.009"><failure message="TypeError: create_payment_lines_information() missing 1 required positional argument: 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:64: in test_create_payment_lines_information_with_lines
    ???
E   TypeError: create_payment_lines_information() missing 1 required positional argument: 'manager'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreateCheckoutPaymentLinesInformation" name="test_create_checkout_payment_lines_information" time="0.013"><failure message="TypeError: create_checkout_payment_lines_information() missing 1 required positional argument: 'manager'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:86: in test_create_checkout_payment_lines_information
    ???
E   TypeError: create_checkout_payment_lines_information() missing 1 required positional argument: 'manager'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreateOrderPaymentLinesInformation" name="test_create_order_payment_lines_information" time="0.019"><failure message="AssertionError: assert False&#10; +  where False = isinstance(PaymentLinesData(shipping_amount=Decimal('0.0'), voucher_amount=Decimal('0.0'), lines=[]), list)">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:109: in test_create_order_payment_lines_information
    ???
E   AssertionError: assert False
E    +  where False = isinstance(PaymentLinesData(shipping_amount=Decimal('0.0'), voucher_amount=Decimal('0.0'), lines=[]), list)</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestGenerateTransactionsData" name="test_generate_transactions_data_empty" time="0.015" /><testcase classname="tests.whitebox.test_payment_utils_additional.TestGenerateTransactionsData" name="test_generate_transactions_data_with_transactions" time="0.012"><failure message="TypeError: TransactionItem() got unexpected keyword arguments: 'payment', 'amount_value'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:148: in test_generate_transactions_data_with_transactions
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: TransactionItem() got unexpected keyword arguments: 'payment', 'amount_value'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePaymentInformation" name="test_create_payment_information_with_payment" time="0.014" /><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePaymentInformation" name="test_create_payment_information_with_checkout" time="0.020"><failure message="TypeError: create_payment_information() got an unexpected keyword argument 'customer_ip_address'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:204: in test_create_payment_information_with_checkout
    ???
E   TypeError: create_payment_information() got an unexpected keyword argument 'customer_ip_address'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePaymentInformation" name="test_create_payment_information_with_order" time="0.017"><failure message="TypeError: create_payment_information() got an unexpected keyword argument 'customer_ip_address'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:232: in test_create_payment_information_with_order
    ???
E   TypeError: create_payment_information() got an unexpected keyword argument 'customer_ip_address'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePayment" name="test_create_payment_basic" time="0.008"><failure message="TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:264: in test_create_payment_basic
    ???
E   TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePayment" name="test_create_payment_with_checkout" time="0.011"><failure message="TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:297: in test_create_payment_with_checkout
    ???
E   TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_additional.TestCreatePayment" name="test_create_payment_with_order" time="0.015"><failure message="TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_additional.py:329: in test_create_payment_with_order
    ???
E   TypeError: create_payment() got an unexpected keyword argument 'payment_method_info'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_comprehensive.TestPaymentModels" name="test_payment_captured_amount" time="0.009"><failure message="TypeError: Payment() got unexpected keyword arguments: 'channel'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_comprehensive.py:38: in test_payment_captured_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Payment() got unexpected keyword arguments: 'channel'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_comprehensive.TestPaymentModels" name="test_payment_get_authorized" time="0.009"><failure message="TypeError: Payment() got unexpected keyword arguments: 'channel'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_comprehensive.py:55: in test_payment_get_authorized
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: Payment() got unexpected keyword arguments: 'channel'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_comprehensive.TestTransactionItem" name="test_transaction_item_authorized_amount" time="0.009"><failure message="TypeError: TransactionItem() got unexpected keyword arguments: 'channel'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_comprehensive.py:77: in test_transaction_item_authorized_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: TransactionItem() got unexpected keyword arguments: 'channel'</failure></testcase><testcase classname="tests.whitebox.test_payment_utils_comprehensive.TestTransactionItem" name="test_transaction_item_charged_amount" time="0.008"><failure message="TypeError: TransactionItem() got unexpected keyword arguments: 'channel'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_payment_utils_comprehensive.py:92: in test_transaction_item_charged_amount
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: TransactionItem() got unexpected keyword arguments: 'channel'</failure></testcase><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_greater" time="0.007" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_equal" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_less" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetTotalDiscountFromRange" name="test_get_total_discount_from_range" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_price_field" time="0.022" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_discounted_price_field" time="0.022" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_prior_price_field" time="0.022" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_none_prices" time="0.018" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestCalculateProductPriceWithTaxes" name="test_calculate_product_price_with_taxes_flat_rates" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_comprehensive.TestCalculateProductPriceWithTaxes" name="test_calculate_product_price_with_taxes_other_strategy" time="0.005" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_greater" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_equal" time="0.005" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetTotalDiscount" name="test_get_total_discount_undiscounted_less" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetTotalDiscountFromRange" name="test_get_total_discount_from_range_calculates_correctly" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_with_prices" time="0.019"><failure message="django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;product_producttype_slug_key&quot;&#10;DETAIL:  Key (slug)=() already exists.">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.UniqueViolation: duplicate key value violates unique constraint "product_producttype_slug_key"
E   DETAIL:  Key (slug)=() already exists.

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_product_availability_utils_comprehensive.py:132: in test_get_product_price_range_with_prices
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: duplicate key value violates unique constraint "product_producttype_slug_key"
E   DETAIL:  Key (slug)=() already exists.</failure></testcase><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_with_none_prices" time="0.021" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetProductPriceRange" name="test_get_product_price_range_empty_list" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestCalculateProductPriceWithTaxes" name="test_calculate_product_price_with_taxes_flat_rates" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestCalculateProductPriceWithTaxes" name="test_calculate_product_price_with_taxes_other_strategy" time="0.006" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestCalculateProductPriceWithTaxesRange" name="test_calculate_product_price_with_taxes_range_with_prices" time="0.022" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestCalculateProductPriceWithTaxesRange" name="test_calculate_product_price_with_taxes_range_no_prices" time="0.020" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetProductAvailability" name="test_get_product_availability_with_discounts" time="0.032"><failure message="AssertionError: assert False is True&#10; +  where False = ProductAvailability(on_sale=False, price_range=TaxedMoneyRange(TaxedMoney(net=Money('7.984031936127744510978043912', 'USD'), gross=Money('8.00', 'USD')), TaxedMoney(net=Money('7.984031936127744510978043912', 'USD'), gross=Money('8.00', 'USD'))), price_range_undiscounted=TaxedMoneyRange(TaxedMoney(net=Money('9.980039920159680638722554890', 'USD'), gross=Money('10.00', 'USD')), TaxedMoney(net=Money('9.980039920159680638722554890', 'USD'), gross=Money('10.00', 'USD'))), price_range_prior=TaxedMoneyRange(TaxedMoney(net=Money('11.97604790419161676646706587', 'USD'), gross=Money('12.00', 'USD')), TaxedMoney(net=Money('11.97604790419161676646706587', 'USD'), gross=Money('12.00', 'USD'))), discount=TaxedMoney(net=Money('1.996007984031936127744510978', 'USD'), gross=Money('2.00', 'USD')), discount_prior=TaxedMoney(net=Money('3.992015968063872255489021958', 'USD'), gross=Money('4.00', 'USD'))).on_sale">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_product_availability_utils_comprehensive.py:335: in test_get_product_availability_with_discounts
    ???
E   AssertionError: assert False is True
E    +  where False = ProductAvailability(on_sale=False, price_range=TaxedMoneyRange(TaxedMoney(net=Money('7.984031936127744510978043912', 'USD'), gross=Money('8.00', 'USD')), TaxedMoney(net=Money('7.984031936127744510978043912', 'USD'), gross=Money('8.00', 'USD'))), price_range_undiscounted=TaxedMoneyRange(TaxedMoney(net=Money('9.980039920159680638722554890', 'USD'), gross=Money('10.00', 'USD')), TaxedMoney(net=Money('9.980039920159680638722554890', 'USD'), gross=Money('10.00', 'USD'))), price_range_prior=TaxedMoneyRange(TaxedMoney(net=Money('11.97604790419161676646706587', 'USD'), gross=Money('12.00', 'USD')), TaxedMoney(net=Money('11.97604790419161676646706587', 'USD'), gross=Money('12.00', 'USD'))), discount=TaxedMoney(net=Money('1.996007984031936127744510978', 'USD'), gross=Money('2.00', 'USD')), discount_prior=TaxedMoney(net=Money('3.992015968063872255489021958', 'USD'), gross=Money('4.00', 'USD'))).on_sale</failure></testcase><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetProductAvailability" name="test_get_product_availability_no_undiscounted" time="0.031" /><testcase classname="tests.whitebox.test_product_availability_utils_comprehensive.TestGetVariantAvailability" name="test_get_variant_availability_calculates_correctly" time="0.027"><failure message="TypeError: get_variant_availability() missing 1 required keyword-only argument: 'product_channel_listing'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_product_availability_utils_comprehensive.py:404: in test_get_variant_availability_calculates_correctly
    ???
E   TypeError: get_variant_availability() missing 1 required keyword-only argument: 'product_channel_listing'</failure></testcase><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetBasePrice" name="test_get_base_price_price_override_none" time="0.021" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetBasePrice" name="test_get_base_price_price_override_provided" time="0.020" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetBasePriceDecision" name="test_decision_price_override_none_true" time="0.019" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetBasePriceDecision" name="test_decision_price_override_none_false" time="0.019" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPrice" name="test_get_price_price_override_none_with_discounted_price" time="0.027" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPrice" name="test_get_price_price_override_none_without_discounted_price" time="0.020" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPrice" name="test_get_price_price_override_provided" time="0.021" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriceDecision" name="test_decision_price_override_none_true" time="0.022" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriceDecision" name="test_decision_price_override_none_false" time="0.020" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriceDecision" name="test_decision_discounted_price_exists_true" time="0.023" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriceDecision" name="test_decision_discounted_price_exists_false" time="0.030" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriorPriceAmount" name="test_get_prior_price_channel_listing_none" time="0.025" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriorPriceAmount" name="test_get_prior_price_prior_price_none" time="0.024" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetPriorPriceAmount" name="test_get_prior_price_with_prior_price" time="0.026" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetWeight" name="test_get_weight_variant_weight_exists" time="0.024" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetWeight" name="test_get_weight_product_weight_exists" time="0.019" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantGetWeight" name="test_get_weight_product_type_weight_exists" time="0.017" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigital" name="test_is_digital_shipping_required_false_and_is_digital_true" time="0.022" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigital" name="test_is_digital_shipping_required_true" time="0.018" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigital" name="test_is_digital_is_digital_false" time="0.018" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigitalMCDC" name="test_mcdc_not_shipping_required_true_is_digital_true" time="0.018" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigitalMCDC" name="test_mcdc_not_shipping_required_false" time="0.019" /><testcase classname="tests.whitebox.test_product_models.TestProductVariantIsDigitalMCDC" name="test_mcdc_is_digital_false" time="0.021" /><testcase classname="tests.whitebox.test_product_utils.TestProductAvailability" name="test_get_product_availability_in_stock" time="0.023"><failure message="TypeError: get_product_availability() got an unexpected keyword argument 'product'">tests/whitebox/test_product_utils.py:48: in test_get_product_availability_in_stock
    availability = get_product_availability(
E   TypeError: get_product_availability() got an unexpected keyword argument 'product'</failure></testcase><testcase classname="tests.whitebox.test_product_utils.TestProductAvailability" name="test_get_product_availability_out_of_stock" time="0.025"><failure message="TypeError: get_product_availability() got an unexpected keyword argument 'product'">tests/whitebox/test_product_utils.py:79: in test_get_product_availability_out_of_stock
    availability = get_product_availability(
E   TypeError: get_product_availability() got an unexpected keyword argument 'product'</failure></testcase><testcase classname="tests.whitebox.test_product_utils.TestVariantSelectionAttributes" name="test_get_variant_selection_attributes" time="0.022"><failure message="TypeError: 'ProductVariant' object is not iterable">tests/whitebox/test_product_utils.py:112: in test_get_variant_selection_attributes
    attributes = get_variant_selection_attributes(variant)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/product/utils/variants.py:49: in get_variant_selection_attributes
    return [
E   TypeError: 'ProductVariant' object is not iterable</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils.TestShippingModels" name="test_shipping_zone_creation" time="0.008" /><testcase classname="tests.whitebox.test_shipping_utils.TestShippingModels" name="test_shipping_method_creation" time="0.010" /><testcase classname="tests.whitebox.test_shipping_utils.TestShippingModels" name="test_shipping_method_channel_listing" time="0.021" /><testcase classname="tests.whitebox.test_shipping_utils.TestShippingModels" name="test_shipping_method_minimum_order_price" time="0.017"><failure message="TypeError: ShippingMethod() got unexpected keyword arguments: 'minimum_order_price_amount'">tests/whitebox/test_shipping_utils.py:95: in test_shipping_method_minimum_order_price
    method = ShippingMethod.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: ShippingMethod() got unexpected keyword arguments: 'minimum_order_price_amount'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils.TestShippingModels" name="test_shipping_method_maximum_order_price" time="0.013"><failure message="TypeError: ShippingMethod() got unexpected keyword arguments: 'maximum_order_price_amount'">tests/whitebox/test_shipping_utils.py:125: in test_shipping_method_maximum_order_price
    method = ShippingMethod.objects.create(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:569: in __init__
    raise TypeError(
E   TypeError: ShippingMethod() got unexpected keyword arguments: 'maximum_order_price_amount'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestDefaultShippingZoneExists" name="test_default_shipping_zone_exists_returns_queryset_when_zone_exists" time="0.018" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestDefaultShippingZoneExists" name="test_default_shipping_zone_exists_returns_empty_when_no_default" time="0.013" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestDefaultShippingZoneExists" name="test_default_shipping_zone_exists_excludes_specified_pk" time="0.013" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestGetCountriesWithoutShippingZone" name="test_get_countries_without_shipping_zone_returns_uncovered_countries" time="0.033" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestGetCountriesWithoutShippingZone" name="test_get_countries_without_shipping_zone_returns_all_when_no_zones" time="0.038"><failure message="AssertionError: assert 'US' in ['AF', 'AX', 'AL', 'DZ', 'AS', 'AD', ...]">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:104: in test_get_countries_without_shipping_zone_returns_all_when_no_zones
    ???
E   AssertionError: assert 'US' in ['AF', 'AX', 'AL', 'DZ', 'AS', 'AD', ...]</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestGetCountriesWithoutShippingZone" name="test_get_countries_without_shipping_zone_handles_multiple_countries_in_zone" time="0.022" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertToShippingMethodData" name="test_convert_to_shipping_method_data_with_tax_class" time="0.015" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertToShippingMethodData" name="test_convert_to_shipping_method_data_without_tax_class" time="0.014" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertToShippingMethodData" name="test_convert_to_shipping_method_data_with_weight_based_method" time="0.013" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertToShippingMethodData" name="test_convert_to_shipping_method_data_with_metadata" time="0.013" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertToShippingMethodData" name="test_convert_to_shipping_method_data_with_delivery_days" time="0.013" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertCheckoutDeliveryToShippingMethodData" name="test_convert_checkout_delivery_to_shipping_method_data" time="0.014"><failure message="AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:301: in test_convert_checkout_delivery_to_shipping_method_data
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertCheckoutDeliveryToShippingMethodData" name="test_convert_checkout_delivery_with_message" time="0.012"><failure message="AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:346: in test_convert_checkout_delivery_with_message
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertCheckoutDeliveryToShippingMethodData" name="test_convert_checkout_delivery_with_inactive_status" time="0.013"><failure message="AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:370: in test_convert_checkout_delivery_with_inactive_status
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertCheckoutDeliveryToShippingMethodData" name="test_convert_checkout_delivery_with_invalid_status" time="0.013"><failure message="AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:395: in test_convert_checkout_delivery_with_invalid_status
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertCheckoutDeliveryToShippingMethodData" name="test_convert_checkout_delivery_with_empty_message" time="0.011"><failure message="AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:420: in test_convert_checkout_delivery_with_empty_message
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:663: in create
    obj = self.model(**kwargs)
          ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/base.py:558: in __init__
    _setattr(self, prop, value)
E   AttributeError: property 'shipping_method_id' of 'CheckoutDelivery' object has no setter</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertShippingMethodDataToCheckoutDelivery" name="test_convert_shipping_method_data_to_checkout_delivery_built_in" time="0.012"><failure message="TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:450: in test_convert_shipping_method_data_to_checkout_delivery_built_in
    ???
E   TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertShippingMethodDataToCheckoutDelivery" name="test_convert_shipping_method_data_to_checkout_delivery_external" time="0.011"><failure message="TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:497: in test_convert_shipping_method_data_to_checkout_delivery_external
    ???
E   TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertShippingMethodDataToCheckoutDelivery" name="test_convert_shipping_method_data_to_checkout_delivery_without_tax_class" time="0.012"><failure message="TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:522: in test_convert_shipping_method_data_to_checkout_delivery_without_tax_class
    ???
E   TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertShippingMethodDataToCheckoutDelivery" name="test_convert_shipping_method_data_to_checkout_delivery_with_message" time="0.012"><failure message="TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:547: in test_convert_shipping_method_data_to_checkout_delivery_with_message
    ???
E   TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestConvertShippingMethodDataToCheckoutDelivery" name="test_convert_shipping_method_data_to_checkout_delivery_with_empty_name" time="0.011"><failure message="TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'">/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_shipping_utils_comprehensive.py:571: in test_convert_shipping_method_data_to_checkout_delivery_with_empty_name
    ???
E   TypeError: ShippingMethodData.__init__() got an unexpected keyword argument 'is_external'</failure></testcase><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestInitializeShippingMethodActiveStatus" name="test_initialize_shipping_method_active_status_all_active" time="0.007" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestInitializeShippingMethodActiveStatus" name="test_initialize_shipping_method_active_status_with_exclusions" time="0.006" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestInitializeShippingMethodActiveStatus" name="test_initialize_shipping_method_active_status_partial_exclusions" time="0.007" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestInitializeShippingMethodActiveStatus" name="test_initialize_shipping_method_active_status_resets_existing_status" time="0.006" /><testcase classname="tests.whitebox.test_shipping_utils_comprehensive.TestInitializeShippingMethodActiveStatus" name="test_initialize_shipping_method_active_status_empty_list" time="0.006" /><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestGetAvailableQuantity" name="test_get_available_quantity_without_reservations" time="0.007"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (803511e3-364b-406e-ace7-627dbe7e7e6a, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (803511e3-364b-406e-ace7-627dbe7e7e6a, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:35: in test_get_available_quantity_without_reservations
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (803511e3-364b-406e-ace7-627dbe7e7e6a, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestGetAvailableQuantity" name="test_get_available_quantity_with_reservations" time="0.007"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (4d9e958d-94ef-4e2e-8258-46810005e5c7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (4d9e958d-94ef-4e2e-8258-46810005e5c7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:60: in test_get_available_quantity_with_reservations
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (4d9e958d-94ef-4e2e-8258-46810005e5c7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestGetAvailableQuantity" name="test_get_available_quantity_returns_zero_if_negative" time="0.007"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (f944ab8b-b696-497c-80af-27091d931dee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (f944ab8b-b696-497c-80af-27091d931dee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:86: in test_get_available_quantity_returns_zero_if_negative
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (f944ab8b-b696-497c-80af-27091d931dee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestCheckStockAndPreorderQuantity" name="test_check_stock_and_preorder_quantity_preorder_active" time="0.019" /><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestCheckStockAndPreorderQuantity" name="test_check_stock_and_preorder_quantity_not_preorder" time="0.017" /><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestCheckStockQuantity" name="test_check_stock_quantity_sufficient_stock" time="0.008"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (8cf952de-a0c8-45ec-b320-a22b3e9a99f7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (8cf952de-a0c8-45ec-b320-a22b3e9a99f7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:171: in test_check_stock_quantity_sufficient_stock
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (8cf952de-a0c8-45ec-b320-a22b3e9a99f7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestCheckStockQuantity" name="test_check_stock_quantity_insufficient_stock" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (0bd4d6d9-78ee-4c21-ade1-87d4a680da32, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (0bd4d6d9-78ee-4c21-ade1-87d4a680da32, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:201: in test_check_stock_quantity_insufficient_stock
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (0bd4d6d9-78ee-4c21-ade1-87d4a680da32, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestGetAvailableQuantityFunction" name="test_get_available_quantity_returns_correct_value" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (a28f5c7f-a18a-4256-a053-75c78b097a5c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (a28f5c7f-a18a-4256-a053-75c78b097a5c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:236: in test_get_available_quantity_returns_correct_value
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (a28f5c7f-a18a-4256-a053-75c78b097a5c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestIsProductInStock" name="test_is_product_in_stock_has_stock" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (5aab751f-9d7e-47e1-be29-2f827b045a45, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (5aab751f-9d7e-47e1-be29-2f827b045a45, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_availability_comprehensive.py:268: in test_is_product_in_stock_has_stock
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (5aab751f-9d7e-47e1-be29-2f827b045a45, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_availability_comprehensive.TestIsProductInStock" name="test_is_product_in_stock_no_stock" time="0.045" /><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestGetOrderLinesWithTrackInventory" name="test_get_order_lines_with_track_inventory_tracks_inventory" time="0.014"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:15:01.324048+00, , , 65573c08-ffa6-4f6e-a80b-05205a1961ac, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 354, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.325069+00, f, 130, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:01.324048+00, , , 65573c08-ffa6-4f6e-a80b-05205a1961ac, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 354, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.325069+00, f, 130, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:48: in test_get_order_lines_with_track_inventory_tracks_inventory
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:01.324048+00, , , 65573c08-ffa6-4f6e-a80b-05205a1961ac, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 354, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.325069+00, f, 130, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestGetOrderLinesWithTrackInventory" name="test_get_order_lines_with_track_inventory_no_track" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:15:01.964263+00, , , b48c73d2-e9bb-4001-9e5b-02000fc37b0a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 355, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.965266+00, f, 131, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:01.964263+00, , , b48c73d2-e9bb-4001-9e5b-02000fc37b0a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 355, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.965266+00, f, 131, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:84: in test_get_order_lines_with_track_inventory_no_track
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:01.964263+00, , , b48c73d2-e9bb-4001-9e5b-02000fc37b0a, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 355, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:01.965266+00, f, 131, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestGetOrderLinesWithTrackInventory" name="test_get_order_lines_with_track_inventory_no_variant" time="0.011"><failure message="django.db.utils.IntegrityError: null value in column &quot;lines_count&quot; of relation &quot;order_order&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (2025-12-08 11:15:02.645506+00, , , afb34ee5-6ea8-44b2-b976-690ea80eee4d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 356, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:02.646529+00, f, 132, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:02.645506+00, , , afb34ee5-6ea8-44b2-b976-690ea80eee4d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 356, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:02.646529+00, f, 132, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:119: in test_get_order_lines_with_track_inventory_no_variant
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "lines_count" of relation "order_order" violates not-null constraint
E   DETAIL:  Failing row contains (2025-12-08 11:15:02.645506+00, , , afb34ee5-6ea8-44b2-b976-690ea80eee4d, null, null, null, 0.000, null, en, 0.000, 0.000, 0.000, unfulfilled, null, null, t, , 0, , USD, {}, {}, 356, null, null, 0.000, 0.000, 0.000, , null, null, , 2025-12-08 11:15:02.646529+00, f, 132, null, 0.000, none, none, null, t, f, 0.000, null, {}, null, {}, null, null, null, 0.000, 0.000, null, 0.000, null, null, null, {}, {}).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestIncreaseStock" name="test_increase_stock_creates_stock_if_not_exists" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (23a92ce8-9682-4934-92fc-6229a0d71567, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (23a92ce8-9682-4934-92fc-6229a0d71567, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:151: in test_increase_stock_creates_stock_if_not_exists
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (23a92ce8-9682-4934-92fc-6229a0d71567, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestIncreaseStock" name="test_increase_stock_increases_existing_stock" time="0.008"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (deeb2c5d-7d23-4485-b7e0-c22ef0bc9d48, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (deeb2c5d-7d23-4485-b7e0-c22ef0bc9d48, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:184: in test_increase_stock_increases_existing_stock
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (deeb2c5d-7d23-4485-b7e0-c22ef0bc9d48, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestIncreaseStock" name="test_increase_stock_with_allocate" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (763cfb65-08c3-4ffe-a5ea-0f240f308bad, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (763cfb65-08c3-4ffe-a5ea-0f240f308bad, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:229: in test_increase_stock_with_allocate
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (763cfb65-08c3-4ffe-a5ea-0f240f308bad, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestDecreaseStock" name="test_decrease_stock_decreases_quantity" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (c1e354c6-13dd-4d18-be08-4b16b94b4762, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c1e354c6-13dd-4d18-be08-4b16b94b4762, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:271: in test_decrease_stock_decreases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c1e354c6-13dd-4d18-be08-4b16b94b4762, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestIncreaseAllocations" name="test_increase_allocations_creates_allocation" time="0.010"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (e638af9b-75ca-44e5-b023-d000aad28fa7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (e638af9b-75ca-44e5-b023-d000aad28fa7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:323: in test_increase_allocations_creates_allocation
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (e638af9b-75ca-44e5-b023-d000aad28fa7, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestIncreaseAllocations" name="test_increase_allocations_increases_existing_allocation" time="0.010"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (22873031-3aaa-4de4-bdd9-e5ade4a8bcc5, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (22873031-3aaa-4de4-bdd9-e5ade4a8bcc5, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:371: in test_increase_allocations_increases_existing_allocation
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (22873031-3aaa-4de4-bdd9-e5ade4a8bcc5, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestDecreaseAllocations" name="test_decrease_allocations_decreases_quantity" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (7025b3d8-cfda-4e40-93c2-57bafcb0f634, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (7025b3d8-cfda-4e40-93c2-57bafcb0f634, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:432: in test_decrease_allocations_decreases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (7025b3d8-cfda-4e40-93c2-57bafcb0f634, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestDecreaseAllocations" name="test_decrease_allocations_deletes_allocation_when_zero" time="0.009"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (a85ffef9-9695-4e5c-a01c-a867b8b4d085, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (a85ffef9-9695-4e5c-a01c-a867b8b4d085, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:486: in test_decrease_allocations_deletes_allocation_when_zero
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (a85ffef9-9695-4e5c-a01c-a867b8b4d085, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive.TestDeallocateStock" name="test_deallocate_stock_deallocates_for_lines" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (d4e279b4-a583-4304-84c2-740bd4b8f04c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (d4e279b4-a583-4304-84c2-740bd4b8f04c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:545: in test_deallocate_stock_deallocates_for_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (d4e279b4-a583-4304-84c2-740bd4b8f04c, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive" name="test_allocate_stocks_insufficient_stock_raises" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (bd15001e-c7ab-43b9-bdba-40337669419d, W, , null, w, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bd15001e-c7ab-43b9-bdba-40337669419d, W, , null, w, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:597: in test_allocate_stocks_insufficient_stock_raises
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bd15001e-c7ab-43b9-bdba-40337669419d, W, , null, w, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_comprehensive" name="test_decrease_stock_below_zero_raises" time="0.005"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (6eea55ce-bf37-411a-a6b2-3b1c4a5ebb58, W, , null, w, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (6eea55ce-bf37-411a-a6b2-3b1c4a5ebb58, W, , null, w, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_comprehensive.py:614: in test_decrease_stock_below_zero_raises
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (6eea55ce-bf37-411a-a6b2-3b1c4a5ebb58, W, , null, w, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDeleteStocks" name="test_delete_stocks_deletes_specified_stocks" time="0.005"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (4ca22d7a-62d5-443d-96ee-925bdf020556, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (4ca22d7a-62d5-443d-96ee-925bdf020556, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:40: in test_delete_stocks_deletes_specified_stocks
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (4ca22d7a-62d5-443d-96ee-925bdf020556, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestStockBulkUpdate" name="test_stock_bulk_update_updates_stocks" time="0.004"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (bc135380-bc99-4ed6-97f8-3e1c123b4a50, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bc135380-bc99-4ed6-97f8-3e1c123b4a50, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:76: in test_stock_bulk_update_updates_stocks
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (bc135380-bc99-4ed6-97f8-3e1c123b4a50, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDeleteAllocations" name="test_delete_allocations_deletes_specified_allocations" time="0.007"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (121d6ce9-429e-4eeb-ae6b-4698d993afc8, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (121d6ce9-429e-4eeb-ae6b-4698d993afc8, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:122: in test_delete_allocations_deletes_specified_allocations
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (121d6ce9-429e-4eeb-ae6b-4698d993afc8, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestIncreaseStock" name="test_increase_stock_increases_quantity" time="0.005"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (d39a8d4a-d6f5-40c0-8022-8877cb4d05da, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (d39a8d4a-d6f5-40c0-8022-8877cb4d05da, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:181: in test_increase_stock_increases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (d39a8d4a-d6f5-40c0-8022-8877cb4d05da, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestIncreaseStock" name="test_increase_stock_handles_multiple_stocks" time="0.004"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (8fa98b63-89a9-4cd1-8bc3-35b076a2fba6, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (8fa98b63-89a9-4cd1-8bc3-35b076a2fba6, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:207: in test_increase_stock_handles_multiple_stocks
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (8fa98b63-89a9-4cd1-8bc3-35b076a2fba6, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestIncreaseAllocations" name="test_increase_allocations_increases_quantity_allocated" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (580092d1-2023-41d2-b6dd-5f0c121c8746, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (580092d1-2023-41d2-b6dd-5f0c121c8746, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:250: in test_increase_allocations_increases_quantity_allocated
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (580092d1-2023-41d2-b6dd-5f0c121c8746, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDecreaseAllocations" name="test_decrease_allocations_decreases_quantity_allocated" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (6cb29700-0838-45c8-9022-288ee588483b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (6cb29700-0838-45c8-9022-288ee588483b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:312: in test_decrease_allocations_decreases_quantity_allocated
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (6cb29700-0838-45c8-9022-288ee588483b, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDecreaseStock" name="test_decrease_stock_decreases_quantity" time="0.008"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (f45ee8a9-e295-4377-99c9-2a1c282fa0ee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (f45ee8a9-e295-4377-99c9-2a1c282fa0ee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:381: in test_decrease_stock_decreases_quantity
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (f45ee8a9-e295-4377-99c9-2a1c282fa0ee, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDecreaseStock" name="test_decrease_stock_raises_insufficient_stock_when_not_enough" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (b80ffbd4-7969-4c8a-8f90-6282619fd088, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (b80ffbd4-7969-4c8a-8f90-6282619fd088, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:437: in test_decrease_stock_raises_insufficient_stock_when_not_enough
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (b80ffbd4-7969-4c8a-8f90-6282619fd088, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDeallocateStock" name="test_deallocate_stock_deallocates_quantities" time="0.006"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (c7c9e1dd-8e38-4559-83d9-493876f5e916, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c7c9e1dd-8e38-4559-83d9-493876f5e916, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:496: in test_deallocate_stock_deallocates_quantities
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (c7c9e1dd-8e38-4559-83d9-493876f5e916, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_warehouse_management_extensive.TestDeallocateStockForOrders" name="test_deallocate_stock_for_orders_deallocates_all_order_lines" time="0.007"><failure message="django.db.utils.IntegrityError: null value in column &quot;address_id&quot; of relation &quot;warehouse_warehouse&quot; violates not-null constraint&#10;DETAIL:  Failing row contains (795f0e7b-5a4a-45f2-91b6-3b214aad089d, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).">.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   psycopg.errors.NotNullViolation: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (795f0e7b-5a4a-45f2-91b6-3b214aad089d, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).

The above exception was the direct cause of the following exception:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_warehouse_management_extensive.py:565: in test_deallocate_stock_for_orders_deallocates_all_order_lines
    ???
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:665: in create
    obj.save(force_insert=True, using=self.db)
.venv/lib/python3.12/site-packages/django/db/models/base.py:902: in save
    self.save_base(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1008: in save_base
    updated = self._save_table(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1169: in _save_table
    results = self._do_insert(
.venv/lib/python3.12/site-packages/django/db/models/base.py:1210: in _do_insert
    return manager._insert(
.venv/lib/python3.12/site-packages/django/db/models/manager.py:87: in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:1873: in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1882: in execute_sql
    cursor.execute(sql, params)
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:79: in execute
    return self._execute_with_wrappers(
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:92: in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:100: in _execute
    with self.db.wrap_database_errors:
.venv/lib/python3.12/site-packages/django/db/utils.py:91: in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
.venv/lib/python3.12/site-packages/django/db/backends/utils.py:105: in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/psycopg/cursor.py:117: in execute
    raise ex.with_traceback(None)
E   django.db.utils.IntegrityError: null value in column "address_id" of relation "warehouse_warehouse" violates not-null constraint
E   DETAIL:  Failing row contains (795f0e7b-5a4a-45f2-91b6-3b214aad089d, Test Warehouse, , null, test-warehouse, {}, {}, disabled, t, null).</failure></testcase><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_event_type_async" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_event_type_sync" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_ids" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_identifier" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_app_deleted_event" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEvent" name="test_get_filter_without_permissions" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForEvent" name="test_get_webhooks_without_webhooks_param" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForEvent" name="test_get_webhooks_with_webhooks_param" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForEvent" name="test_get_webhooks_with_apps_ids" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForEvent" name="test_get_webhooks_with_apps_identifier" time="0.008" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_single_event" time="0.005"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">tests/whitebox/test_webhook_utils.py:107: in test_get_webhooks_for_single_event
    result = get_webhooks_for_multiple_events(event_types)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/webhook/utils.py:97: in get_webhooks_for_multiple_events
    for webhook_id, event_type in webhook_id_to_event_type:
.venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:234: in __iter__
    return compiler.results_iter(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1572: in results_iter
    results = self.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events" time="0.004"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">tests/whitebox/test_webhook_utils.py:116: in test_get_webhooks_for_multiple_events
    result = get_webhooks_for_multiple_events(event_types)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/webhook/utils.py:97: in get_webhooks_for_multiple_events
    for webhook_id, event_type in webhook_id_to_event_type:
.venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:234: in __iter__
    return compiler.results_iter(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1572: in results_iter
    results = self.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_with_async_event_adds_any" time="0.004"><failure message="django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.">tests/whitebox/test_webhook_utils.py:122: in test_get_webhooks_with_async_event_adds_any
    result = get_webhooks_for_multiple_events(event_types)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/webhook/utils.py:97: in get_webhooks_for_multiple_events
    for webhook_id, event_type in webhook_id_to_event_type:
.venv/lib/python3.12/site-packages/django/db/models/query.py:386: in __iter__
    self._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:234: in __iter__
    return compiler.results_iter(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1572: in results_iter
    results = self.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/testcases.py:201: in __call__
    raise DatabaseOperationForbidden(self.message)
E   django.test.testcases.DatabaseOperationForbidden: Database queries to 'replica' are not allowed in this test. Add 'replica' to pytest_django.fixtures._django_db_helper.&lt;locals&gt;.PytestDjangoTestCase.databases to ensure proper test isolation and silence this failure.</failure></testcase><testcase classname="tests.whitebox.test_webhook_utils.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_with_empty_list" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEventDecisionCoverage" name="test_decision_with_permissions" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEventDecisionCoverage" name="test_decision_without_permissions" time="0.004" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEventDecisionCoverage" name="test_decision_app_deleted_vs_other" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEventDecisionCoverage" name="test_decision_with_apps_ids" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils.TestGetFilterForSingleWebhookEventDecisionCoverage" name="test_decision_with_apps_identifier" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_event_type_async" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_event_type_sync" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_ids" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_identifier" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_both_apps_ids_and_identifier" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_app_deleted_event" time="0.004" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_without_permissions" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_webhooks_queryset" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_without_webhooks" time="0.005" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_apps_ids" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_apps_identifier" time="0.006" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_empty" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_single" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_multiple" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_with_any" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_comprehensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_with_sync_events" time="0.008" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_ids" time="0.009" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_apps_identifier" time="0.009" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_permissions" time="0.009" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_with_app_deleted_event" time="0.008" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetFilterForSingleWebhookEvent" name="test_get_filter_adds_any_event_for_async_events" time="0.010" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_none_webhooks" time="0.013" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_provided_webhooks" time="0.010" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetWebhooksForEvent" name="test_get_webhooks_for_event_with_apps_ids" time="0.012" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_adds_any_for_async" time="0.021" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestGetWebhooksForMultipleEvents" name="test_get_webhooks_for_multiple_events_with_sync_events" time="0.018" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestCalculateWebhooksForMultipleEvents" name="test_calculate_webhooks_without_permissions" time="0.011" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestCalculateWebhooksForMultipleEvents" name="test_calculate_webhooks_with_matching_permissions" time="0.009"><failure message="AttributeError: __delete__">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
.venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py:668: in __set__
    raise TypeError(
E   TypeError: Direct assignment to the forward side of a many-to-many set is prohibited. Use permissions.set() instead.

During handling of the above exception, another exception occurred:
/home/haroon/SQE/SQE_Project_Saleor/tests/whitebox/test_webhook_utils_extensive.py:235: in test_calculate_webhooks_with_matching_permissions
    ???
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: __delete__</failure></testcase><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestCalculateWebhooksForMultipleEvents" name="test_calculate_webhooks_skips_inactive_app" time="0.007" /><testcase classname="tests.whitebox.test_webhook_utils_extensive.TestCalculateWebhooksForMultipleEvents" name="test_calculate_webhooks_adds_empty_sets_for_all_events" time="0.005" /><testcase classname="tests.integration.test_api" name="test_graphql_products_query" time="0.008"><failure message="assert 400 == 200&#10; +  where 400 = &lt;JsonResponse status_code=400, &quot;application/json&quot;&gt;.status_code">tests/integration/test_api.py:88: in test_graphql_products_query
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = &lt;JsonResponse status_code=400, "application/json"&gt;.status_code</failure></testcase><testcase classname="tests.integration.test_api" name="test_static_files" time="0.003" /><testcase classname="tests.test_basic" name="test_health" time="0.007"><failure message="RuntimeError: Database access not allowed, use the &quot;django_db&quot; mark, or the &quot;db&quot; or &quot;transactional_db&quot; fixtures to enable it.">tests/test_basic.py:13: in test_health
    response = client.get('/')
               ^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/client.py:1124: in get
    response = super().get(
.venv/lib/python3.12/site-packages/django/test/client.py:475: in get
    return self.generic(
.venv/lib/python3.12/site-packages/django/test/client.py:671: in generic
    return self.request(**r)
           ^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/test/client.py:1087: in request
    self.check_exception(response)
.venv/lib/python3.12/site-packages/django/test/client.py:802: in check_exception
    raise exc_value
.venv/lib/python3.12/site-packages/django/core/handlers/exception.py:55: in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/core/handlers/base.py:220: in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/template/response.py:114: in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/template/response.py:92: in rendered_content
    return template.render(context, self._request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/template/backends/django.py:107: in render
    return self.template.render(context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/template/base.py:169: in render
    with context.bind_template(self):
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/template/context.py:259: in bind_template
    context = processor(self.request)
              ^^^^^^^^^^^^^^^^^^^^^^^
saleor/site/context_processors.py:13: in site
    site = get_current_site(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/contrib/sites/shortcuts.py:16: in get_current_site
    return Site.objects.get_current(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
saleor/site/patch_sites.py:29: in new_get_current
    self.prefetch_related("settings")
.venv/lib/python3.12/site-packages/django/db/models/query.py:437: in __getitem__
    qs._fetch_all()
.venv/lib/python3.12/site-packages/django/db/models/query.py:1954: in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/models/query.py:93: in __iter__
    results = compiler.execute_sql(
.venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py:1621: in execute_sql
    cursor = self.connection.cursor()
             ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/utils/asyncio.py:26: in inner
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/base/base.py:320: in cursor
    return self._cursor()
           ^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/django/db/backends/base/base.py:296: in _cursor
    self.ensure_connection()
E   RuntimeError: Database access not allowed, use the "django_db" mark, or the "db" or "transactional_db" fixtures to enable it.</failure></testcase><testcase classname="tests.test_basic" name="test_graphql" time="0.005"><failure message="assert 400 == 200&#10; +  where 400 = &lt;JsonResponse status_code=400, &quot;application/json&quot;&gt;.status_code">tests/test_basic.py:27: in test_graphql
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = &lt;JsonResponse status_code=400, "application/json"&gt;.status_code</failure></testcase><testcase classname="tests.whitebox.test_app_installation_utils.TestValidateAppInstallResponse" name="test_validate_app_install_response_with_success" time="0.002" /><testcase classname="tests.whitebox.test_app_installation_utils.TestValidateAppInstallResponse" name="test_validate_app_install_response_with_error_message" time="0.002" /><testcase classname="tests.whitebox.test_app_installation_utils.TestValidateAppInstallResponse" name="test_validate_app_install_response_without_error_message" time="0.002" /><testcase classname="tests.whitebox.test_app_installation_utils.TestSendAppToken" name="test_send_app_token_sends_correct_data" time="0.002"><failure message="AttributeError: 'Manager' object attribute 'send_request' is read-only">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only

During handling of the above exception, another exception occurred:
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only</failure></testcase><testcase classname="tests.whitebox.test_app_installation_utils.TestFetchIconImage" name="test_fetch_icon_image_success" time="0.003"><failure message="AttributeError: 'Manager' object attribute 'send_request' is read-only">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only

During handling of the above exception, another exception occurred:
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only</failure></testcase><testcase classname="tests.whitebox.test_app_installation_utils.TestFetchIconImage" name="test_fetch_icon_image_invalid_content_type" time="0.002"><failure message="AttributeError: 'Manager' object attribute 'send_request' is read-only">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only

During handling of the above exception, another exception occurred:
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only</failure></testcase><testcase classname="tests.whitebox.test_app_installation_utils.TestFetchIconImage" name="test_fetch_icon_image_too_large" time="0.002"><failure message="AttributeError: 'Manager' object attribute 'send_request' is read-only">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only

During handling of the above exception, another exception occurred:
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only</failure></testcase><testcase classname="tests.whitebox.test_app_installation_utils.TestFetchIconImage" name="test_fetch_icon_image_invalid_content_length" time="0.002"><failure message="AttributeError: 'Manager' object attribute 'send_request' is read-only">/usr/lib/python3.12/unittest/mock.py:1567: in __enter__
    setattr(self.target, self.attribute, new_attr)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only

During handling of the above exception, another exception occurred:
/usr/lib/python3.12/unittest/mock.py:1387: in patched
    with self.decoration_helper(patched,
/usr/lib/python3.12/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1369: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1580: in __enter__
    if not self.__exit__(*sys.exc_info()):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/lib/python3.12/unittest/mock.py:1588: in __exit__
    delattr(self.target, self.attribute)
E   AttributeError: 'Manager' object attribute 'send_request' is read-only</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestGetAsgiApplication" name="test_get_asgi_application_returns_handler" time="0.003" /><testcase classname="tests.whitebox.test_asgi_handlers.TestPatchedASGIHandler" name="test_handle_with_request_aborted" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestPatchedASGIHandler" name="test_handle_with_valid_request" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestPatchedASGIHandler" name="test_handle_with_error_response" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestPatchedASGIHandler" name="test_handle_with_cancelled_error" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestPatchedASGIHandler" name="test_handle_clears_tasks" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestHealthCheck" name="test_health_check_with_matching_path" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestHealthCheck" name="test_health_check_with_non_matching_path" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestHealthCheck" name="test_health_check_with_non_http_scope" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_asgi_handlers.TestHealthCheck" name="test_health_check_sends_correct_response" time="0.002"><failure message="Failed: async def functions are not natively supported.&#10;You need to install a suitable plugin for your async framework, for example:&#10;  - anyio&#10;  - pytest-asyncio&#10;  - pytest-tornasync&#10;  - pytest-trio&#10;  - pytest-twisted">async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted</failure></testcase><testcase classname="tests.whitebox.test_core_utils_coverage.TestIsValidIPv4" name="test_valid_ipv4_address" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestIsValidIPv4" name="test_invalid_ipv4_address" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestIsValidIPv6" name="test_valid_ipv6_address" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestIsValidIPv6" name="test_invalid_ipv6_address" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestPrepareUniqueSlug" name="test_unique_slug_no_collision" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestPrepareUniqueSlug" name="test_unique_slug_with_collision" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestPrepareUniqueSlug" name="test_unique_slug_multiple_collisions" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestPrepareUniqueSlug" name="test_unique_slug_with_generator" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestZeroMoney" name="test_zero_money_usd" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestZeroMoney" name="test_zero_money_eur" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestZeroMoney" name="test_zero_money_gbp" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestZeroTaxedMoney" name="test_zero_taxed_money_usd" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestZeroTaxedMoney" name="test_zero_taxed_money_eur" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxError" name="test_tax_error_raises" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxError" name="test_tax_error_message" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxDataError" name="test_tax_data_error_raises" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxDataError" name="test_tax_data_error_with_errors_list" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxDataError" name="test_tax_data_error_default_empty_errors" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxType" name="test_tax_type_creation" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxType" name="test_tax_type_frozen" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxLineData" name="test_tax_line_data_creation" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestTaxData" name="test_tax_data_creation" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestQuantizePrice" name="test_quantize_decimal_usd" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestQuantizePrice" name="test_quantize_decimal_jpy" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestQuantizePrice" name="test_quantize_money_usd" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestQuantizePrice" name="test_quantize_taxed_money" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestMaximumPrice" name="test_maximum_price_is_positive" time="0.002" /><testcase classname="tests.whitebox.test_core_utils_coverage.TestMaximumPrice" name="test_maximum_price_is_integer" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestZeroWeight" name="test_zero_weight_returns_weight" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestZeroWeight" name="test_zero_weight_is_zero_in_all_units" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_kg_to_lb" time="0.003" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_lb_to_kg" time="0.003" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_kg_to_g" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_g_to_kg" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_rounds_to_three_decimals" time="0.002" /><testcase classname="tests.whitebox.test_core_weight_coverage.TestConvertWeight" name="test_convert_oz_to_lb" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestDiscountInfo" name="test_create_basic_discount_info" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestDiscountInfo" name="test_create_discount_info_with_all_fields" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestDiscountInfo" name="test_default_values" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestDiscountInfo" name="test_fixed_value_discount" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestDiscountInfo" name="test_percentage_discount" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestVoucherInfo" name="test_create_empty_voucher_info" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestVoucherInfo" name="test_create_voucher_info_with_pks" time="0.002" /><testcase classname="tests.whitebox.test_discount_interface_coverage.TestVoucherInfo" name="test_voucher_info_with_none_code" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestInsufficientStockData" name="test_create_basic_data" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestInsufficientStockData" name="test_create_data_with_warehouse" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestUnsupportedMediaProviderException" name="test_default_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestUnsupportedMediaProviderException" name="test_custom_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestUnsupportedMediaProviderException" name="test_raises" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestNonExistingCheckoutLines" name="test_raises_with_line_pks" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestNonExistingCheckoutLines" name="test_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestNonExistingCheckout" name="test_raises_with_token" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestNonExistingCheckout" name="test_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestInsufficientStock" name="test_raises_with_items" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestInsufficientStock" name="test_has_code" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestAllocationError" name="test_raises_with_order_lines" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestAllocationError" name="test_message_contains_lines" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestPreorderAllocationError" name="test_raises_with_order_line" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestPreorderAllocationError" name="test_message_contains_line" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestProductNotPublished" name="test_default_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestProductNotPublished" name="test_context" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestProductNotPublished" name="test_has_code" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestPermissionDenied" name="test_default_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestPermissionDenied" name="test_custom_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestPermissionDenied" name="test_with_permissions" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestGiftCardNotApplicable" name="test_message" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestGiftCardNotApplicable" name="test_has_code" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestCircularSubscriptionSyncEvent" name="test_is_graphql_error" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestSyncEventError" name="test_message_and_code" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestSyncEventError" name="test_str" time="0.002" /><testcase classname="tests.whitebox.test_exceptions_coverage.TestSyncEventError" name="test_without_code" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestGenerateRandomCode" name="test_generate_random_code_format" time="0.003" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestGenerateRandomCode" name="test_generate_random_code_length" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestGenerateRandomCode" name="test_generate_random_code_is_uppercase" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestGenerateRandomCode" name="test_generate_random_code_uniqueness" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestGenerateRandomCode" name="test_generate_random_code_contains_dashes" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestInvalidPromoCode" name="test_invalid_promo_code_raises" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestInvalidPromoCode" name="test_invalid_promo_code_default_message" time="0.002" /><testcase classname="tests.whitebox.test_promo_code_coverage.TestInvalidPromoCode" name="test_invalid_promo_code_custom_message" time="0.002"><failure message="assert &quot;['Custom error message']&quot; == 'Custom error message'&#10;  &#10;  - Custom error message&#10;  + ['Custom error message']&#10;  ? ++                    ++">tests/whitebox/test_promo_code_coverage.py:64: in test_invalid_promo_code_custom_message
    raise InvalidPromoCode(message=custom_msg)
E   saleor.core.utils.promo_code.InvalidPromoCode: ['Custom error message']

During handling of the above exception, another exception occurred:
tests/whitebox/test_promo_code_coverage.py:66: in test_invalid_promo_code_custom_message
    assert str(e) == custom_msg
E   assert "['Custom error message']" == 'Custom error message'
E     
E     - Custom error message
E     + ['Custom error message']
E     ? ++                    ++</failure></testcase><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_create_basic_shipping_method" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_create_shipping_method_with_all_fields" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_default_values" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_is_external_with_numeric_id" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_is_external_with_invalid_global_id" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_metadata_can_be_updated" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_active_status" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_message_field" time="0.002" /><testcase classname="tests.whitebox.test_shipping_interface_coverage.TestShippingMethodData" name="test_weight_fields" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestPrepareUrl" name="test_prepare_url_adds_params_to_empty_query" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestPrepareUrl" name="test_prepare_url_appends_to_existing_query" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestPrepareUrl" name="test_prepare_url_with_path" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestPrepareUrl" name="test_prepare_url_with_fragment" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestPrepareUrl" name="test_prepare_url_preserves_scheme" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestSanitizeUrlForLogging" name="test_sanitize_url_without_credentials" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestSanitizeUrlForLogging" name="test_sanitize_url_with_username_and_password" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestSanitizeUrlForLogging" name="test_sanitize_url_with_port" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestSanitizeUrlForLogging" name="test_sanitize_url_preserves_path_and_query" time="0.002" /><testcase classname="tests.whitebox.test_url_utils_coverage.TestSanitizeUrlForLogging" name="test_sanitize_url_simple_url" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_future_date_returns_true" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_past_date_returns_false" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_today_returns_false" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_yesterday_returns_false" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_tomorrow_returns_true" time="0.002" /><testcase classname="tests.whitebox.test_validators_coverage.TestIsDateInFuture" name="test_far_future_date_returns_true" time="0.167" /></testsuite></testsuites>